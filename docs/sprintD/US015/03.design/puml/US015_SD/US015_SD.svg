<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="896px" preserveAspectRatio="none" style="width:1238px;height:896px;background:#FFFFFF;" version="1.1" viewBox="0 0 1238 896" width="1238px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="712.3438" style="stroke:#181818;stroke-width:1.0;" width="10" x="21.5" y="92.6094"/><rect fill="#FFFFFF" height="673.6406" style="stroke:#181818;stroke-width:1.0;" width="10" x="244.5" y="131.3125"/><rect fill="#FFFFFF" height="572.5859" style="stroke:#181818;stroke-width:1.0;" width="10" x="518.5" y="232.3672"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="721.5" y="264.9766"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="828.5" y="325.6797"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="943" y="386.3828"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="943" y="507.7891"/><rect fill="#FFFFFF" height="166.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="1040" y="568.4922"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1149" y="667.5469"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1210.5" y="447.0859"/><rect fill="none" height="122.4063" style="stroke:#000000;stroke-width:1.5;" width="195" x="1004" y="583.4922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="26" x2="26" y1="82.6094" y2="813.9531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="249" x2="249" y1="82.6094" y2="813.9531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="523" x2="523" y1="231.3203" y2="813.9531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="726" x2="726" y1="82.6094" y2="813.9531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="833" x2="833" y1="82.6094" y2="813.9531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="948" x2="948" y1="82.6094" y2="813.9531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1045" x2="1045" y1="82.6094" y2="813.9531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1154" x2="1154" y1="82.6094" y2="813.9531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1215" x2="1215" y1="82.6094" y2="813.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="5" y="79.5332">Agent</text><ellipse cx="26.5" cy="13.5" fill="#E3E3E3" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M26.5,21.5 L26.5,48.5 M13.5,29.5 L39.5,29.5 M26.5,48.5 L13.5,63.5 M26.5,48.5 L39.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="5" y="827.4863">Agent</text><ellipse cx="26.5" cy="839.0625" fill="#E3E3E3" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M26.5,847.0625 L26.5,874.0625 M13.5,855.0625 L39.5,855.0625 M26.5,874.0625 L13.5,889.0625 M26.5,874.0625 L39.5,889.0625 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="239" x="130" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="225" x="137" y="71.5332">:ListAllBookingsRequestsToAgentUI</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="239" x="130" y="812.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="225" x="137" y="834.4863">:ListAllBookingsRequestsToAgentUI</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="289" x="379" y="812.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="275" x="386" y="834.4863">:ListAllBookingsRequestsToAgentController</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="678" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="685" y="71.5332">:Repositories</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="678" y="812.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="685" y="834.4863">:Repositories</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="785" y="32.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="796.5" y="53.9238">repositories</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="792" y="71.5332">:Repositories</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="785" y="812.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="796.5" y="834.4863">repositories</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="792" y="852.0957">:Repositories</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="892" y="32.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="902" y="53.9238">visitRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="899" y="71.5332">:VisitRepository</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="892" y="812.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="902" y="834.4863">visitRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="899" y="852.0957">:VisitRepository</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="62" x="1014" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="1021" y="71.5332">Mapper</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="62" x="1014" y="812.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="1021" y="834.4863">Mapper</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70" x="1119" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="1126" y="71.5332">VisitDTO</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70" x="1119" y="812.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="1126" y="834.4863">VisitDTO</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="33" x="1199" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="19" x="1206" y="71.5332">Util</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="33" x="1199" y="812.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="19" x="1206" y="834.4863">Util</text><rect fill="#FFFFFF" height="712.3438" style="stroke:#181818;stroke-width:1.0;" width="10" x="21.5" y="92.6094"/><rect fill="#FFFFFF" height="673.6406" style="stroke:#181818;stroke-width:1.0;" width="10" x="244.5" y="131.3125"/><rect fill="#FFFFFF" height="572.5859" style="stroke:#181818;stroke-width:1.0;" width="10" x="518.5" y="232.3672"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="721.5" y="264.9766"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="828.5" y="325.6797"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="943" y="386.3828"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="943" y="507.7891"/><rect fill="#FFFFFF" height="166.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="1040" y="568.4922"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1149" y="667.5469"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1210.5" y="447.0859"/><polygon fill="#181818" points="232.5,127.3125,242.5,131.3125,232.5,135.3125,236.5,131.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="31.5" x2="238.5" y1="131.3125" y2="131.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="38.5" y="118.2803">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="49.5" y="110.1045">requests to list all bookings</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="49.5" y="126.4561">request managed by me</text><polygon fill="#181818" points="42.5,157.6641,32.5,161.6641,42.5,165.6641,38.5,161.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="36.5" x2="243.5" y1="161.6641" y2="161.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="48.5" y="156.8076">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="59.5" y="156.8076">request visit start and end date</text><polygon fill="#181818" points="232.5,188.0156,242.5,192.0156,232.5,196.0156,236.5,192.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="31.5" x2="238.5" y1="192.0156" y2="192.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="38.5" y="187.1592">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="49.5" y="187.1592">select dates</text><polygon fill="#181818" points="367,218.3672,377,222.3672,367,226.3672,371,222.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="254.5" x2="373" y1="222.3672" y2="222.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="261.5" y="217.5107">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="272.5" y="217.5107">create</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="289" x="379" y="200.0156"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="275" x="386" y="221.5488">:ListAllBookingsRequestsToAgentController</text><polygon fill="#181818" points="709.5,260.9766,719.5,264.9766,709.5,268.9766,713.5,264.9766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="528.5" x2="715.5" y1="264.9766" y2="264.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="535.5" y="260.1201">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="546.5" y="260.1201">getInstance()</text><polygon fill="#181818" points="539.5,291.3281,529.5,295.3281,539.5,299.3281,535.5,295.3281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="533.5" x2="725.5" y1="295.3281" y2="295.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="545.5" y="290.4717">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="556.5" y="290.4717">repositories</text><polygon fill="#181818" points="816.5,321.6797,826.5,325.6797,816.5,329.6797,820.5,325.6797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="528.5" x2="822.5" y1="325.6797" y2="325.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="535.5" y="320.8232">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="546.5" y="320.8232">getVisitRepository()</text><polygon fill="#181818" points="539.5,352.0313,529.5,356.0313,539.5,360.0313,535.5,356.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="533.5" x2="832.5" y1="356.0313" y2="356.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="545.5" y="351.1748">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="556.5" y="351.1748">visitRepository</text><polygon fill="#181818" points="931,382.3828,941,386.3828,931,390.3828,935,386.3828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="528.5" x2="937" y1="386.3828" y2="386.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="535.5" y="381.5264">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="312" x="546.5" y="381.5264">getAllVisitsByAgentIDAndDateRange(Agent,start,end)</text><polygon fill="#181818" points="539.5,412.7344,529.5,416.7344,539.5,420.7344,535.5,416.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="533.5" x2="947" y1="416.7344" y2="416.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="545.5" y="411.8779">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="563.5" y="411.8779">AllVisitsByAgentAndDateRange</text><polygon fill="#181818" points="1198.5,443.0859,1208.5,447.0859,1198.5,451.0859,1202.5,447.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="528.5" x2="1204.5" y1="447.0859" y2="447.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="535.5" y="442.2295">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="553.5" y="442.2295">getChosenSortingAlgorithm()</text><polygon fill="#181818" points="539.5,473.4375,529.5,477.4375,539.5,481.4375,535.5,477.4375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="533.5" x2="1214.5" y1="477.4375" y2="477.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="545.5" y="472.5811">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="563.5" y="472.5811">chosenSortingAlgorithm</text><polygon fill="#181818" points="931,503.7891,941,507.7891,931,511.7891,935,507.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="528.5" x2="937" y1="507.7891" y2="507.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="535.5" y="502.9326">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="553.5" y="502.9326">sortVisitsAscending(visits)</text><polygon fill="#181818" points="539.5,534.1406,529.5,538.1406,539.5,542.1406,535.5,538.1406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="533.5" x2="947" y1="538.1406" y2="538.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="545.5" y="533.2842">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="563.5" y="533.2842">sortedVisits</text><polygon fill="#181818" points="1028,564.4922,1038,568.4922,1028,572.4922,1032,568.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="528.5" x2="1034" y1="568.4922" y2="568.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="535.5" y="563.6357">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="553.5" y="563.6357">toDTOlist(sortedVisits)</text><path d="M1004,583.4922 L1077,583.4922 L1077,591.8438 L1067,601.8438 L1004,601.8438 L1004,583.4922 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="122.4063" style="stroke:#000000;stroke-width:1.5;" width="195" x="1004" y="583.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="1019" y="597.9873">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="79" x="1092" y="596.9111">[for each visit]</text><line style="stroke:#181818;stroke-width:1.0;" x1="1050" x2="1092" y1="624.1953" y2="624.1953"/><line style="stroke:#181818;stroke-width:1.0;" x1="1092" x2="1092" y1="624.1953" y2="637.1953"/><line style="stroke:#181818;stroke-width:1.0;" x1="1051" x2="1092" y1="637.1953" y2="637.1953"/><polygon fill="#181818" points="1061,633.1953,1051,637.1953,1061,641.1953,1057,637.1953" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1057" y="619.3389">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="1075" y="619.3389">toDTO(visit)</text><polygon fill="#181818" points="1137,663.5469,1147,667.5469,1137,671.5469,1141,667.5469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1050" x2="1143" y1="667.5469" y2="667.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1057" y="662.6904">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="1075" y="662.6904">create()</text><polygon fill="#181818" points="1061,693.8984,1051,697.8984,1061,701.8984,1057,697.8984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1055" x2="1153" y1="697.8984" y2="697.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1067" y="693.042">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48" x="1085" y="693.042">visitDTO</text><polygon fill="#181818" points="539.5,731.25,529.5,735.25,539.5,739.25,535.5,735.25" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="533.5" x2="1044" y1="735.25" y2="735.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="545.5" y="730.3936">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="563.5" y="730.3936">visitsDTOlist</text><polygon fill="#181818" points="265.5,761.6016,255.5,765.6016,265.5,769.6016,261.5,765.6016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="259.5" x2="517.5" y1="765.6016" y2="765.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="271.5" y="760.7451">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="289.5" y="760.7451">visitsDTOlist</text><polygon fill="#181818" points="42.5,791.9531,32.5,795.9531,42.5,799.9531,38.5,795.9531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="36.5" x2="243.5" y1="795.9531" y2="795.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="48.5" y="791.0967">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="66.5" y="791.0967">shows sorted list of visits</text><!--MD5=[8f8b0fb027614e020be3949b89b56183]
@startuml
'https://plantuml.com/sequence-diagram

skinparam monochrome true
skinparam shadowing false
autonumber

actor "Agent" as agent
participant ":ListAllBookingsRequestsToAgentUI" as ui
participant ":ListAllBookingsRequestsToAgentController" as ctrl


participant ":Repositories" as repos
participant "repositories\n:Repositories" as repositories
participant "visitRepository\n:VisitRepository" as vstR
'participant "propertyRepository\n:PropertyRepository" as propR


participant "Mapper" as map
participant "VisitDTO" as vstDTO
participant "Util" as util


activate agent
agent -> ui: requests to list all bookings \nrequest managed by me
activate ui
ui -> agent: request visit start and end date
agent -> ui: select dates
ui -> ctrl**: create
activate ctrl
ctrl -> repos: getInstance()
activate repos
return repositories

ctrl -> repositories: getVisitRepository()
activate repositories
return visitRepository

'ctrl -> repositories: getPropertyRepository()
'activate repositories
'return propertyRepository



ctrl -> vstR: getAllVisitsByAgentIDAndDateRange(Agent,start,end)
activate vstR

return AllVisitsByAgentAndDateRange


ctrl -> util: getChosenSortingAlgorithm()
activate util
return chosenSortingAlgorithm
ctrl -> vstR: sortVisitsAscending(visits)
activate vstR

return sortedVisits

ctrl -> map: toDTOlist(sortedVisits)
activate map

loop for each visit

map -> map: toDTO(visit)
map -> vstDTO: create()
activate vstDTO
return visitDTO

end

return visitsDTOlist

ctrl -> ui: visitsDTOlist

ui -> agent: shows sorted list of visits

@enduml

@startuml

skinparam monochrome true
skinparam shadowing false
autonumber

actor "Agent" as agent
participant ":ListAllBookingsRequestsToAgentUI" as ui
participant ":ListAllBookingsRequestsToAgentController" as ctrl


participant ":Repositories" as repos
participant "repositories\n:Repositories" as repositories
participant "visitRepository\n:VisitRepository" as vstR


participant "Mapper" as map
participant "VisitDTO" as vstDTO
participant "Util" as util


activate agent
agent -> ui: requests to list all bookings \nrequest managed by me
activate ui
ui -> agent: request visit start and end date
agent -> ui: select dates
ui -> ctrl**: create
activate ctrl
ctrl -> repos: getInstance()
activate repos
return repositories

ctrl -> repositories: getVisitRepository()
activate repositories
return visitRepository




ctrl -> vstR: getAllVisitsByAgentIDAndDateRange(Agent,start,end)
activate vstR

return AllVisitsByAgentAndDateRange


ctrl -> util: getChosenSortingAlgorithm()
activate util
return chosenSortingAlgorithm
ctrl -> vstR: sortVisitsAscending(visits)
activate vstR

return sortedVisits

ctrl -> map: toDTOlist(sortedVisits)
activate map

loop for each visit

map -> map: toDTO(visit)
map -> vstDTO: create()
activate vstDTO
return visitDTO

end

return visitsDTOlist

ctrl -> ui: visitsDTOlist

ui -> agent: shows sorted list of visits

@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 BST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>