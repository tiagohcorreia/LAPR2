<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1857px" preserveAspectRatio="none" style="width:1547px;height:1857px;background:#FFFFFF;" version="1.1" viewBox="0 0 1547 1857" width="1547px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="1669.4297" style="stroke:#383838;stroke-width:1.0;" width="10" x="75" y="95.6094"/><rect fill="#FFFFFF" height="1647.0781" style="stroke:#383838;stroke-width:1.0;" width="10" x="333" y="117.9609"/><rect fill="#FFFFFF" height="444.7578" style="stroke:#383838;stroke-width:1.0;" width="10" x="580" y="190.9219"/><rect fill="#FFFFFF" height="520.3281" style="stroke:#383838;stroke-width:1.0;" width="10" x="580" y="784.7891"/><rect fill="#FFFFFF" height="184.1094" style="stroke:#383838;stroke-width:1.0;" width="10" x="580" y="1398.1719"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#383838;stroke-width:1.0;" width="10" x="752.5" y="221.2734"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#383838;stroke-width:1.0;" width="10" x="859.5" y="281.9766"/><rect fill="#FFFFFF" height="262.6484" style="stroke:#383838;stroke-width:1.0;" width="10" x="1008.5" y="342.6797"/><rect fill="#FFFFFF" height="443.2734" style="stroke:#383838;stroke-width:1.0;" width="10" x="1008.5" y="831.4922"/><rect fill="#FFFFFF" height="123.4063" style="stroke:#383838;stroke-width:1.0;" width="10" x="1008.5" y="1428.5234"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#383838;stroke-width:1.0;" width="10" x="1235.5" y="398.3828"/><rect fill="#FFFFFF" height="101.8906" style="stroke:#383838;stroke-width:1.0;" width="10" x="1235.5" y="459.0859"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#383838;stroke-width:1.0;" width="10" x="1235.5" y="887.1953"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#383838;stroke-width:1.0;" width="10" x="1235.5" y="947.8984"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#383838;stroke-width:1.0;" width="10" x="1235.5" y="1008.6016"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#383838;stroke-width:1.0;" width="10" x="1240.5" y="1146.3594"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#383838;stroke-width:1.0;" width="10" x="1240.5" y="1146.3594"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#383838;stroke-width:1.0;" width="10" x="1235.5" y="1484.2266"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#383838;stroke-width:1.0;" width="10" x="1479.5" y="1038.9531"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#383838;stroke-width:1.0;" width="10" x="1479.5" y="1176.7109"/><rect fill="#FFFFFF" height="218.2969" style="stroke:#000000;stroke-width:2.0;" width="414" x="903" y="357.6797"/><rect fill="#FFFFFF" height="94.8906" style="stroke:#000000;stroke-width:2.0;" width="394" x="913" y="474.0859"/><rect fill="#FFFFFF" height="46.1875" style="stroke:none;stroke-width:1.0;" width="394" x="913" y="522.7891"/><rect fill="#FFFFFF" height="923.25" style="stroke:#000000;stroke-width:2.0;" width="1530.5" x="10" y="697.3828"/><rect fill="#FFFFFF" height="398.9219" style="stroke:#000000;stroke-width:2.0;" width="617.5" x="913" y="846.4922"/><rect fill="#FFFFFF" height="277.1641" style="stroke:none;stroke-width:1.0;" width="1530.5" x="10" y="1343.4688"/><rect fill="#FFFFFF" height="79.0547" style="stroke:#000000;stroke-width:2.0;" width="394" x="913" y="1443.5234"/><rect fill="#FFFFFF" height="122.4063" style="stroke:#000000;stroke-width:2.0;" width="432" x="10" y="1634.6328"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="80" x2="80" y1="85.6094" y2="1774.0391"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="338" x2="338" y1="85.6094" y2="1774.0391"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="585" x2="585" y1="157.2656" y2="1774.0391"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="757" x2="757" y1="85.6094" y2="1774.0391"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="864" x2="864" y1="85.6094" y2="1774.0391"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1013" x2="1013" y1="85.6094" y2="1774.0391"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1240" x2="1240" y1="85.6094" y2="1774.0391"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1484.5" x2="1484.5" y1="85.6094" y2="1774.0391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="20" y="82.5332">Unregistered User</text><ellipse cx="80" cy="15" fill="#F8F8F8" rx="8" ry="8" style="stroke:#383838;stroke-width:2.0;"/><path d="M80,23 L80,50 M67,31 L93,31 M80,50 L67,65 M80,50 L93,65 " fill="none" style="stroke:#383838;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="20" y="1787.5723">Unregistered User</text><ellipse cx="80" cy="1800.6484" fill="#F8F8F8" rx="8" ry="8" style="stroke:#383838;stroke-width:2.0;"/><path d="M80,1808.6484 L80,1835.6484 M67,1816.6484 L93,1816.6484 M80,1835.6484 L67,1850.6484 M80,1835.6484 L93,1850.6484 " fill="none" style="stroke:#383838;stroke-width:2.0;"/><rect fill="#F8F8F8" height="31.6094" style="stroke:#383838;stroke-width:1.5;" width="178" x="249" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164" x="256" y="74.5332">:DisplayAnnouncementsUI</text><rect fill="#F8F8F8" height="31.6094" style="stroke:#383838;stroke-width:1.5;" width="178" x="249" y="1773.0391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164" x="256" y="1794.5723">:DisplayAnnouncementsUI</text><rect fill="#F8F8F8" height="31.6094" style="stroke:#383838;stroke-width:1.5;" width="228" x="471" y="1773.0391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="214" x="478" y="1794.5723">:DisplayAnnouncementsController</text><rect fill="#F8F8F8" height="31.6094" style="stroke:#383838;stroke-width:1.5;" width="97" x="709" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="716" y="74.5332">:Repositories</text><rect fill="#F8F8F8" height="31.6094" style="stroke:#383838;stroke-width:1.5;" width="97" x="709" y="1773.0391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="716" y="1794.5723">:Repositories</text><rect fill="#F8F8F8" height="49.2188" style="stroke:#383838;stroke-width:1.5;" width="97" x="816" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="827.5" y="56.9238">repositories</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="823" y="74.5332">:Repositories</text><rect fill="#F8F8F8" height="49.2188" style="stroke:#383838;stroke-width:1.5;" width="97" x="816" y="1773.0391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="827.5" y="1794.5723">repositories</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="823" y="1812.1816">:Repositories</text><rect fill="#F8F8F8" height="49.2188" style="stroke:#383838;stroke-width:1.5;" width="181" x="923" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="932.5" y="56.9238">announcementRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="930" y="74.5332">:AnnouncementRepository</text><rect fill="#F8F8F8" height="49.2188" style="stroke:#383838;stroke-width:1.5;" width="181" x="923" y="1773.0391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="932.5" y="1794.5723">announcementRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="930" y="1812.1816">:AnnouncementRepository</text><rect fill="#F8F8F8" height="31.6094" style="stroke:#383838;stroke-width:1.5;" width="113" x="1184" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="1191" y="74.5332">:Announcement</text><rect fill="#F8F8F8" height="31.6094" style="stroke:#383838;stroke-width:1.5;" width="113" x="1184" y="1773.0391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="1191" y="1794.5723">:Announcement</text><rect fill="#F8F8F8" height="31.6094" style="stroke:#383838;stroke-width:1.5;" width="72" x="1448.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="1455.5" y="74.5332">:Property</text><rect fill="#F8F8F8" height="31.6094" style="stroke:#383838;stroke-width:1.5;" width="72" x="1448.5" y="1773.0391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="1455.5" y="1794.5723">:Property</text><rect fill="#FFFFFF" height="1669.4297" style="stroke:#383838;stroke-width:1.0;" width="10" x="75" y="95.6094"/><rect fill="#FFFFFF" height="1647.0781" style="stroke:#383838;stroke-width:1.0;" width="10" x="333" y="117.9609"/><rect fill="#FFFFFF" height="444.7578" style="stroke:#383838;stroke-width:1.0;" width="10" x="580" y="190.9219"/><rect fill="#FFFFFF" height="520.3281" style="stroke:#383838;stroke-width:1.0;" width="10" x="580" y="784.7891"/><rect fill="#FFFFFF" height="184.1094" style="stroke:#383838;stroke-width:1.0;" width="10" x="580" y="1398.1719"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#383838;stroke-width:1.0;" width="10" x="752.5" y="221.2734"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#383838;stroke-width:1.0;" width="10" x="859.5" y="281.9766"/><rect fill="#FFFFFF" height="262.6484" style="stroke:#383838;stroke-width:1.0;" width="10" x="1008.5" y="342.6797"/><rect fill="#FFFFFF" height="443.2734" style="stroke:#383838;stroke-width:1.0;" width="10" x="1008.5" y="831.4922"/><rect fill="#FFFFFF" height="123.4063" style="stroke:#383838;stroke-width:1.0;" width="10" x="1008.5" y="1428.5234"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#383838;stroke-width:1.0;" width="10" x="1235.5" y="398.3828"/><rect fill="#FFFFFF" height="101.8906" style="stroke:#383838;stroke-width:1.0;" width="10" x="1235.5" y="459.0859"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#383838;stroke-width:1.0;" width="10" x="1235.5" y="887.1953"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#383838;stroke-width:1.0;" width="10" x="1235.5" y="947.8984"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#383838;stroke-width:1.0;" width="10" x="1235.5" y="1008.6016"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#383838;stroke-width:1.0;" width="10" x="1240.5" y="1146.3594"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#383838;stroke-width:1.0;" width="10" x="1240.5" y="1146.3594"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#383838;stroke-width:1.0;" width="10" x="1235.5" y="1484.2266"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#383838;stroke-width:1.0;" width="10" x="1479.5" y="1038.9531"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#383838;stroke-width:1.0;" width="10" x="1479.5" y="1176.7109"/><polygon fill="#383838" points="321,113.9609,331,117.9609,321,121.9609,325,117.9609" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="85" x2="327" y1="117.9609" y2="117.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="92" y="113.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="103" y="113.1045">starts announcement announcements</text><polygon fill="#383838" points="459,144.3125,469,148.3125,459,152.3125,463,148.3125" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="343" x2="465" y1="148.3125" y2="148.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="350" y="143.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="361" y="143.4561">create</text><rect fill="#F8F8F8" height="31.6094" style="stroke:#383838;stroke-width:1.5;" width="228" x="471" y="125.9609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="214" x="478" y="147.4941">:DisplayAnnouncementsController</text><polygon fill="#383838" points="568,186.9219,578,190.9219,568,194.9219,572,190.9219" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="343" x2="574" y1="190.9219" y2="190.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="350" y="186.0654">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="361" y="186.0654">getAvailableFields()</text><polygon fill="#383838" points="740.5,217.2734,750.5,221.2734,740.5,225.2734,744.5,221.2734" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="590" x2="746.5" y1="221.2734" y2="221.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="597" y="216.417">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="608" y="216.417">getInstance()</text><polygon fill="#383838" points="601,247.625,591,251.625,601,255.625,597,251.625" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="595" x2="756.5" y1="251.625" y2="251.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="607" y="246.7686">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="618" y="246.7686">repositories</text><polygon fill="#383838" points="847.5,277.9766,857.5,281.9766,847.5,285.9766,851.5,281.9766" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="590" x2="853.5" y1="281.9766" y2="281.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="597" y="277.1201">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="608" y="277.1201">getAnnouncementsRepository()</text><polygon fill="#383838" points="601,308.3281,591,312.3281,601,316.3281,597,312.3281" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="595" x2="863.5" y1="312.3281" y2="312.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="607" y="307.4717">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="618" y="307.4717">announcementsRepository</text><polygon fill="#383838" points="996.5,338.6797,1006.5,342.6797,996.5,346.6797,1000.5,342.6797" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="590" x2="1002.5" y1="342.6797" y2="342.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="597" y="337.8232">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="608" y="337.8232">getAvailableFields()</text><path d="M903,357.6797 L976,357.6797 L976,365.6797 L966,375.6797 L903,375.6797 L903,357.6797 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="218.2969" style="stroke:#000000;stroke-width:2.0;" width="414" x="903" y="357.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="918" y="372.1748">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="139" x="991" y="371.0986">[for each announcement]</text><polygon fill="#383838" points="1223.5,394.3828,1233.5,398.3828,1223.5,402.3828,1227.5,398.3828" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="1018.5" x2="1229.5" y1="398.3828" y2="398.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1025.5" y="393.5264">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="1036.5" y="393.5264">isVisible()</text><polygon fill="#383838" points="1029.5,424.7344,1019.5,428.7344,1029.5,432.7344,1025.5,428.7344" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1023.5" x2="1239.5" y1="428.7344" y2="428.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1035.5" y="423.8779">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="1053.5" y="423.8779">true/false</text><polygon fill="#383838" points="1223.5,455.0859,1233.5,459.0859,1223.5,463.0859,1227.5,459.0859" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="1018.5" x2="1229.5" y1="459.0859" y2="459.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1025.5" y="454.2295">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="1043.5" y="454.2295">getAnnouncement()</text><path d="M913,474.0859 L974,474.0859 L974,482.0859 L964,492.0859 L913,492.0859 L913,474.0859 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="94.8906" style="stroke:#000000;stroke-width:2.0;" width="394" x="913" y="474.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="928" y="488.5811">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="99" x="989" y="487.5049">[isVisible() = true]</text><polygon fill="#383838" points="1029.5,510.7891,1019.5,514.7891,1029.5,518.7891,1025.5,514.7891" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1023.5" x2="1234.5" y1="514.7891" y2="514.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1035.5" y="509.9326">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="1053.5" y="509.9326">announcement</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="913" x2="1307" y1="523.7891" y2="523.7891"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="103" x="918" y="535.208">[isVisible() = false]</text><polygon fill="#383838" points="1029.5,556.9766,1019.5,560.9766,1029.5,564.9766,1025.5,560.9766" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1023.5" x2="1239.5" y1="560.9766" y2="560.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1035.5" y="556.1201">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="1053.5" y="556.1201">null</text><polygon fill="#383838" points="601,601.3281,591,605.3281,601,609.3281,597,605.3281" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="595" x2="1012.5" y1="605.3281" y2="605.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="607" y="600.4717">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="625" y="600.4717">availableFields</text><polygon fill="#383838" points="354,631.6797,344,635.6797,354,639.6797,350,635.6797" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="348" x2="584" y1="635.6797" y2="635.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="360" y="630.8232">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="378" y="630.8232">availableFields</text><polygon fill="#383838" points="96,678.3828,86,682.3828,96,686.3828,92,682.3828" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="90" x2="332" y1="682.3828" y2="682.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="102" y="669.3506">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="120" y="661.1748">shows available fields and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="120" y="677.5264">requests data selection</text><path d="M10,697.3828 L71,697.3828 L71,705.3828 L61,715.3828 L10,715.3828 L10,697.3828 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="923.25" style="stroke:#000000;stroke-width:2.0;" width="1530.5" x="10" y="697.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="25" y="711.8779">alt</text><polygon fill="#383838" points="321,734.0859,331,738.0859,321,742.0859,325,738.0859" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="85" x2="327" y1="738.0859" y2="738.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="92" y="733.2295">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="110" y="733.2295">selects required data</text><polygon fill="#383838" points="568,780.7891,578,784.7891,568,788.7891,572,784.7891" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="343" x2="574" y1="784.7891" y2="784.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="350" y="771.7568">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="368" y="763.5811">getAnnouncements(businessType,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="368" y="779.9326">propertyType, numberOfRooms)</text><polygon fill="#383838" points="996.5,827.4922,1006.5,831.4922,996.5,835.4922,1000.5,831.4922" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="590" x2="1002.5" y1="831.4922" y2="831.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="597" y="818.46">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="615" y="810.2842">getAnnouncements(businessType,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="615" y="826.6357">propertyType, numberOfRooms)</text><path d="M913,846.4922 L986,846.4922 L986,854.4922 L976,864.4922 L913,864.4922 L913,846.4922 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="398.9219" style="stroke:#000000;stroke-width:2.0;" width="617.5" x="913" y="846.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="928" y="860.9873">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="139" x="1001" y="859.9111">[for each announcement]</text><polygon fill="#383838" points="1223.5,883.1953,1233.5,887.1953,1223.5,891.1953,1227.5,887.1953" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="1018.5" x2="1229.5" y1="887.1953" y2="887.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1025.5" y="882.3389">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="1043.5" y="882.3389">isVisible()</text><polygon fill="#383838" points="1029.5,913.5469,1019.5,917.5469,1029.5,921.5469,1025.5,917.5469" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1023.5" x2="1239.5" y1="917.5469" y2="917.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1035.5" y="912.6904">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="1053.5" y="912.6904">true/false</text><polygon fill="#383838" points="1223.5,943.8984,1233.5,947.8984,1223.5,951.8984,1227.5,947.8984" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="1018.5" x2="1229.5" y1="947.8984" y2="947.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1025.5" y="943.042">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="1043.5" y="943.042">isBusinessType(businessType)</text><polygon fill="#383838" points="1029.5,974.25,1019.5,978.25,1029.5,982.25,1025.5,978.25" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1023.5" x2="1239.5" y1="978.25" y2="978.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1035.5" y="973.3936">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="1053.5" y="973.3936">true/false</text><polygon fill="#383838" points="1223.5,1004.6016,1233.5,1008.6016,1223.5,1012.6016,1227.5,1008.6016" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="1018.5" x2="1229.5" y1="1008.6016" y2="1008.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1025.5" y="1003.7451">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="1043.5" y="1003.7451">isPropertyType(propertyType)</text><polygon fill="#383838" points="1467.5,1034.9531,1477.5,1038.9531,1467.5,1042.9531,1471.5,1038.9531" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="1245.5" x2="1473.5" y1="1038.9531" y2="1038.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1252.5" y="1034.0967">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="1270.5" y="1034.0967">getClassName().getSimpleName()</text><polygon fill="#383838" points="1256.5,1065.3047,1246.5,1069.3047,1256.5,1073.3047,1252.5,1069.3047" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1250.5" x2="1483.5" y1="1069.3047" y2="1069.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1262.5" y="1064.4482">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="1284.5" y="1064.4482"/><polygon fill="#383838" points="1029.5,1095.6563,1019.5,1099.6563,1029.5,1103.6563,1025.5,1099.6563" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1023.5" x2="1239.5" y1="1099.6563" y2="1099.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1035.5" y="1094.7998">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="1053.5" y="1094.7998">true/false</text><polygon fill="#383838" points="1228.5,1142.3594,1238.5,1146.3594,1228.5,1150.3594,1232.5,1146.3594" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="1018.5" x2="1234.5" y1="1146.3594" y2="1146.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1025.5" y="1133.3271">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="1043.5" y="1125.1514">numberOfRoomsEquals(</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="1043.5" y="1141.5029">numberOfRooms)</text><polygon fill="#383838" points="1467.5,1172.7109,1477.5,1176.7109,1467.5,1180.7109,1471.5,1176.7109" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="1250.5" x2="1473.5" y1="1176.7109" y2="1176.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1257.5" y="1171.8545">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="1275.5" y="1171.8545">getNumberOfRooms()</text><polygon fill="#383838" points="1261.5,1203.0625,1251.5,1207.0625,1261.5,1211.0625,1257.5,1207.0625" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1255.5" x2="1483.5" y1="1207.0625" y2="1207.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1267.5" y="1202.2061">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="1289.5" y="1202.2061"/><polygon fill="#383838" points="1029.5,1233.4141,1019.5,1237.4141,1029.5,1241.4141,1025.5,1237.4141" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1023.5" x2="1239.5" y1="1237.4141" y2="1237.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1035.5" y="1232.5576">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="1053.5" y="1232.5576">true/false</text><polygon fill="#383838" points="601,1270.7656,591,1274.7656,601,1278.7656,597,1274.7656" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="595" x2="1012.5" y1="1274.7656" y2="1274.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="607" y="1269.9092">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="625" y="1269.9092">announcements</text><polygon fill="#383838" points="354,1301.1172,344,1305.1172,354,1309.1172,350,1305.1172" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="348" x2="584" y1="1305.1172" y2="1305.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="360" y="1300.2607">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="378" y="1300.2607">announcements</text><polygon fill="#383838" points="96,1331.4688,86,1335.4688,96,1339.4688,92,1335.4688" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="90" x2="332" y1="1335.4688" y2="1335.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="102" y="1330.6123">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="120" y="1330.6123">shows matching announcements</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="1540.5" y1="1344.4688" y2="1344.4688"/><polygon fill="#383838" points="321,1363.8203,331,1367.8203,321,1371.8203,325,1367.8203" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="85" x2="327" y1="1367.8203" y2="1367.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="92" y="1362.9639">35</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="110" y="1362.9639">doesn't select any data</text><polygon fill="#383838" points="568,1394.1719,578,1398.1719,568,1402.1719,572,1398.1719" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="343" x2="574" y1="1398.1719" y2="1398.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="350" y="1393.3154">36</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="368" y="1393.3154">getAllVisibleAnnouncements()</text><polygon fill="#383838" points="996.5,1424.5234,1006.5,1428.5234,996.5,1432.5234,1000.5,1428.5234" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="590" x2="1002.5" y1="1428.5234" y2="1428.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="597" y="1423.667">37</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="615" y="1423.667">getAllVisibleAnnouncements()</text><path d="M913,1443.5234 L986,1443.5234 L986,1451.5234 L976,1461.5234 L913,1461.5234 L913,1443.5234 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="79.0547" style="stroke:#000000;stroke-width:2.0;" width="394" x="913" y="1443.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="928" y="1458.0186">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="139" x="1001" y="1456.9424">[for each announcement]</text><polygon fill="#383838" points="1223.5,1480.2266,1233.5,1484.2266,1223.5,1488.2266,1227.5,1484.2266" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="1018.5" x2="1229.5" y1="1484.2266" y2="1484.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1025.5" y="1479.3701">38</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="1043.5" y="1479.3701">isVisible()</text><polygon fill="#383838" points="1029.5,1510.5781,1019.5,1514.5781,1029.5,1518.5781,1025.5,1514.5781" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1023.5" x2="1239.5" y1="1514.5781" y2="1514.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1035.5" y="1509.7217">39</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="1053.5" y="1509.7217">true/false</text><polygon fill="#383838" points="601,1547.9297,591,1551.9297,601,1555.9297,597,1551.9297" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="595" x2="1012.5" y1="1551.9297" y2="1551.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="607" y="1547.0732">40</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="625" y="1547.0732">announcements</text><polygon fill="#383838" points="354,1578.2813,344,1582.2813,354,1586.2813,350,1582.2813" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="348" x2="584" y1="1582.2813" y2="1582.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="360" y="1577.4248">41</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="378" y="1577.4248">announcements</text><polygon fill="#383838" points="96,1608.6328,86,1612.6328,96,1616.6328,92,1612.6328" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="90" x2="332" y1="1612.6328" y2="1612.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="102" y="1607.7764">42</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="120" y="1607.7764">shows all announcements</text><path d="M10,1634.6328 L75,1634.6328 L75,1642.6328 L65,1652.6328 L10,1652.6328 L10,1634.6328 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="122.4063" style="stroke:#000000;stroke-width:2.0;" width="432" x="10" y="1634.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20" x="25" y="1649.1279">opt</text><polygon fill="#383838" points="321,1671.3359,331,1675.3359,321,1679.3359,325,1675.3359" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;" x1="85" x2="327" y1="1675.3359" y2="1675.3359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="92" y="1670.4795">43</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="110" y="1670.4795">selects sorting order</text><line style="stroke:#383838;stroke-width:1.0;" x1="343" x2="385" y1="1705.6875" y2="1705.6875"/><line style="stroke:#383838;stroke-width:1.0;" x1="385" x2="385" y1="1705.6875" y2="1718.6875"/><line style="stroke:#383838;stroke-width:1.0;" x1="344" x2="385" y1="1718.6875" y2="1718.6875"/><polygon fill="#383838" points="354,1714.6875,344,1718.6875,354,1722.6875,350,1718.6875" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="350" y="1700.8311">44</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="368" y="1700.8311">sort(mode)</text><polygon fill="#383838" points="96,1745.0391,86,1749.0391,96,1753.0391,92,1749.0391" style="stroke:#383838;stroke-width:1.0;"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="90" x2="332" y1="1749.0391" y2="1749.0391"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="102" y="1744.1826">45</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="120" y="1744.1826">displays sorted data</text><!--MD5=[6c8ce7fd09e0a0912603954c22aaf438]
@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

autonumber

'hide footbox
actor "Unregistered User" as UR
participant ":DisplayAnnouncementsUI" as UI
participant ":DisplayAnnouncementsUI" as UI
participant ":DisplayAnnouncementsController" as CTRL
participant ":Repositories" as reposclass
participant "repositories\n:Repositories" as repositories
participant "announcementRepository\n:AnnouncementRepository" as ARepo
'participant "announcement\n:Announcement" as announcement
participant ":Announcement" as announcement
participant ":Property" as prop



activate UR
UR -> UI: starts announcement announcements
activate UI
UI -> CTRL**: create
UI -> CTRL: getAvailableFields()
activate CTRL

CTRL -> reposclass: getInstance()
activate reposclass
reposclass - -> CTRL: repositories
deactivate reposclass
CTRL -> repositories: getAnnouncementsRepository()
activate repositories
repositories - -> CTRL: announcementsRepository
deactivate repositories
CTRL -> ARepo: getAvailableFields()
activate ARepo
loop for each announcement
    ARepo -> announcement: isVisible()
    activate announcement
    return true/false
    'ARepo -> announcement: getBusinessType()
    ARepo -> announcement: getAnnouncement()
    alt isVisible() = true
        activate announcement
        announcement - -> ARepo: announcement
        else isVisible() = false
        return null
        deactivate announcement
    end
end
ARepo - -> CTRL: availableFields
deactivate ARepo

CTRL -> UI: availableFields
deactivate CTRL

UI - -> UR: shows available fields and\nrequests data selection
alt
    UR -> UI: selects required data
    UI -> CTRL: getAnnouncements(businessType,\npropertyType, numberOfRooms)
    activate CTRL
    CTRL -> ARepo: getAnnouncements(businessType,\npropertyType, numberOfRooms)
    activate ARepo
    loop for each announcement
        ARepo -> announcement: isVisible()
        activate announcement
        return true/false
        deactivate announcement
        ARepo -> announcement: isBusinessType(businessType)
        activate announcement
        return true/false
        deactivate announcement

        ARepo -> announcement: isPropertyType(propertyType)
        activate announcement
        announcement -> prop: getClassName().getSimpleName()
        activate prop
        return
        return true/false
        deactivate prop
        deactivate announcement

        ARepo -> announcement: numberOfRoomsEquals(\nnumberOfRooms)
        activate announcement
        activate announcement
        announcement -> prop: getNumberOfRooms()
        activate prop
        return

        return true/false
        deactivate announcement
    end

    ARepo - -> CTRL: announcements
    deactivate ARepo
    CTRL - -> UI: announcements
    deactivate CTRL
    UI - -> UR: shows matching announcements
else
    UR -> UI: doesn't select any data
    UI -> CTRL: getAllVisibleAnnouncements()
    activate CTRL
    CTRL -> ARepo: getAllVisibleAnnouncements()
    activate ARepo
    loop for each announcement
        ARepo -> announcement: isVisible()
        activate announcement
        return true/false
        deactivate announcement
    end
    ARepo - -> CTRL: announcements
    deactivate ARepo

    CTRL - -> UI: announcements
    deactivate CTRL
    UI - -> UR: shows all announcements
end 'ALT fragment end

opt
    UR -> UI: selects sorting order
    UI -> UI: sort(mode)
    UI - -> UR: displays sorted data
end

@enduml

@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

autonumber

actor "Unregistered User" as UR
participant ":DisplayAnnouncementsUI" as UI
participant ":DisplayAnnouncementsUI" as UI
participant ":DisplayAnnouncementsController" as CTRL
participant ":Repositories" as reposclass
participant "repositories\n:Repositories" as repositories
participant "announcementRepository\n:AnnouncementRepository" as ARepo
participant ":Announcement" as announcement
participant ":Property" as prop



activate UR
UR -> UI: starts announcement announcements
activate UI
UI -> CTRL**: create
UI -> CTRL: getAvailableFields()
activate CTRL

CTRL -> reposclass: getInstance()
activate reposclass
reposclass - -> CTRL: repositories
deactivate reposclass
CTRL -> repositories: getAnnouncementsRepository()
activate repositories
repositories - -> CTRL: announcementsRepository
deactivate repositories
CTRL -> ARepo: getAvailableFields()
activate ARepo
loop for each announcement
    ARepo -> announcement: isVisible()
    activate announcement
    return true/false
    ARepo -> announcement: getAnnouncement()
    alt isVisible() = true
        activate announcement
        announcement - -> ARepo: announcement
        else isVisible() = false
        return null
        deactivate announcement
    end
end
ARepo - -> CTRL: availableFields
deactivate ARepo

CTRL -> UI: availableFields
deactivate CTRL

UI - -> UR: shows available fields and\nrequests data selection
alt
    UR -> UI: selects required data
    UI -> CTRL: getAnnouncements(businessType,\npropertyType, numberOfRooms)
    activate CTRL
    CTRL -> ARepo: getAnnouncements(businessType,\npropertyType, numberOfRooms)
    activate ARepo
    loop for each announcement
        ARepo -> announcement: isVisible()
        activate announcement
        return true/false
        deactivate announcement
        ARepo -> announcement: isBusinessType(businessType)
        activate announcement
        return true/false
        deactivate announcement

        ARepo -> announcement: isPropertyType(propertyType)
        activate announcement
        announcement -> prop: getClassName().getSimpleName()
        activate prop
        return
        return true/false
        deactivate prop
        deactivate announcement

        ARepo -> announcement: numberOfRoomsEquals(\nnumberOfRooms)
        activate announcement
        activate announcement
        announcement -> prop: getNumberOfRooms()
        activate prop
        return

        return true/false
        deactivate announcement
    end

    ARepo - -> CTRL: announcements
    deactivate ARepo
    CTRL - -> UI: announcements
    deactivate CTRL
    UI - -> UR: shows matching announcements
else
    UR -> UI: doesn't select any data
    UI -> CTRL: getAllVisibleAnnouncements()
    activate CTRL
    CTRL -> ARepo: getAllVisibleAnnouncements()
    activate ARepo
    loop for each announcement
        ARepo -> announcement: isVisible()
        activate announcement
        return true/false
        deactivate announcement
    end
    ARepo - -> CTRL: announcements
    deactivate ARepo

    CTRL - -> UI: announcements
    deactivate CTRL
    UI - -> UR: shows all announcements
end 'ALT fragment end

opt
    UR -> UI: selects sorting order
    UI -> UI: sort(mode)
    UI - -> UR: displays sorted data
end

@enduml

PlantUML version 1.2022.1(Tue Feb 01 18:19:58 GMT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>