<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="948px" preserveAspectRatio="none" style="width:745px;height:948px;background:#FFFFFF;" version="1.1" viewBox="0 0 745 948" width="745.8px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="835.4578" style="stroke:#383838;stroke-width:0.6;" width="6" x="45" y="57.3656"/><rect fill="#FFFFFF" height="822.0469" style="stroke:#383838;stroke-width:0.6;" width="6" x="190.2" y="70.7766"/><rect fill="#FFFFFF" height="202.7203" style="stroke:#383838;stroke-width:0.6;" width="6" x="328.8" y="114.5531"/><rect fill="#FFFFFF" height="247.7531" style="stroke:#383838;stroke-width:0.6;" width="6" x="328.8" y="406.7391"/><rect fill="#FFFFFF" height="110.4656" style="stroke:#383838;stroke-width:0.6;" width="6" x="328.8" y="692.1141"/><rect fill="#FFFFFF" height="18.2109" style="stroke:#383838;stroke-width:0.6;" width="6" x="416.1" y="132.7641"/><rect fill="#FFFFFF" height="18.2109" style="stroke:#383838;stroke-width:0.6;" width="6" x="480.3" y="169.1859"/><rect fill="#FFFFFF" height="93.4547" style="stroke:#383838;stroke-width:0.6;" width="6" x="553.5" y="205.6078"/><rect fill="#FFFFFF" height="183.3094" style="stroke:#383838;stroke-width:0.6;" width="6" x="553.5" y="434.7609"/><rect fill="#FFFFFF" height="74.0438" style="stroke:#383838;stroke-width:0.6;" width="6" x="553.5" y="710.325"/><rect fill="#FFFFFF" height="18.2109" style="stroke:#383838;stroke-width:0.6;" width="6" x="708.9" y="254.2406"/><rect fill="#FFFFFF" height="18.2109" style="stroke:#383838;stroke-width:0.6;" width="6" x="708.9" y="468.1828"/><rect fill="#FFFFFF" height="18.2109" style="stroke:#383838;stroke-width:0.6;" width="6" x="708.9" y="504.6047"/><rect fill="#FFFFFF" height="18.2109" style="stroke:#383838;stroke-width:0.6;" width="6" x="708.9" y="541.0266"/><rect fill="#FFFFFF" height="18.2109" style="stroke:#383838;stroke-width:0.6;" width="6" x="708.9" y="577.4484"/><rect fill="#FFFFFF" height="18.2109" style="stroke:#383838;stroke-width:0.6;" width="6" x="708.9" y="743.7469"/><rect fill="#FFFFFF" height="66.8438" style="stroke:#000000;stroke-width:1.2;" width="235.2" x="506.4" y="214.6078"/><rect fill="#FFFFFF" height="47.4328" style="stroke:#000000;stroke-width:1.2;" width="223.2" x="512.4" y="229.8188"/><rect fill="#FFFFFF" height="471.2953" style="stroke:#000000;stroke-width:1.2;" width="735.6" x="6" y="354.2953"/><rect fill="#FFFFFF" height="156.6984" style="stroke:#000000;stroke-width:1.2;" width="223.2" x="512.4" y="443.7609"/><rect fill="#FFFFFF" height="166.2984" style="stroke:none;stroke-width:0.6;" width="735.6" x="6" y="659.2922"/><rect fill="#FFFFFF" height="47.4328" style="stroke:#000000;stroke-width:1.2;" width="223.2" x="512.4" y="719.325"/><line style="stroke:#383838;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="48" x2="48" y1="51.3656" y2="898.2234"/><line style="stroke:#383838;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="193.2" x2="193.2" y1="51.3656" y2="898.2234"/><line style="stroke:#383838;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="331.8" x2="331.8" y1="94.3594" y2="898.2234"/><line style="stroke:#383838;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="418.8" x2="418.8" y1="51.3656" y2="898.2234"/><line style="stroke:#383838;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="483" x2="483" y1="51.3656" y2="898.2234"/><line style="stroke:#383838;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="556.2" x2="556.2" y1="51.3656" y2="898.2234"/><line style="stroke:#383838;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="711.6" x2="711.6" y1="51.3656" y2="898.2234"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="68.4" x="12" y="49.5199">Unregistered User</text><ellipse cx="48" cy="9" fill="#F8F8F8" rx="4.8" ry="4.8" style="stroke:#383838;stroke-width:1.2;"/><path d="M48,13.8 L48,30 M40.2,18.6 L55.8,18.6 M48,30 L40.2,39 M48,30 L55.8,39 " fill="none" style="stroke:#383838;stroke-width:1.2;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="68.4" x="12" y="906.3434">Unregistered User</text><ellipse cx="48" cy="914.1891" fill="#F8F8F8" rx="4.8" ry="4.8" style="stroke:#383838;stroke-width:1.2;"/><path d="M48,918.9891 L48,935.1891 M40.2,923.7891 L55.8,923.7891 M48,935.1891 L40.2,944.1891 M48,935.1891 L55.8,944.1891 " fill="none" style="stroke:#383838;stroke-width:1.2;"/><rect fill="#F8F8F8" height="18.9656" style="stroke:#383838;stroke-width:0.8999999999999999;" width="74.4" x="156" y="31.8"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="66" x="160.2" y="44.7199">:DisplayListingsUI</text><rect fill="#F8F8F8" height="18.9656" style="stroke:#383838;stroke-width:0.8999999999999999;" width="74.4" x="156" y="897.6234"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="66" x="160.2" y="910.5434">:DisplayListingsUI</text><rect fill="#F8F8F8" height="18.9656" style="stroke:#383838;stroke-width:0.8999999999999999;" width="104.4" x="279.6" y="897.6234"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="96" x="283.8" y="910.5434">:DisplayListingsController</text><rect fill="#F8F8F8" height="18.9656" style="stroke:#383838;stroke-width:0.8999999999999999;" width="58.2" x="390" y="31.8"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="49.8" x="394.2" y="44.7199">:Repositories</text><rect fill="#F8F8F8" height="18.9656" style="stroke:#383838;stroke-width:0.8999999999999999;" width="58.2" x="390" y="897.6234"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="49.8" x="394.2" y="910.5434">:Repositories</text><rect fill="#F8F8F8" height="29.5313" style="stroke:#383838;stroke-width:0.8999999999999999;" width="58.2" x="454.2" y="21.2344"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="44.4" x="461.1" y="34.1543">repositories</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="49.8" x="458.4" y="44.7199">:Repositories</text><rect fill="#F8F8F8" height="29.5313" style="stroke:#383838;stroke-width:0.8999999999999999;" width="58.2" x="454.2" y="897.6234"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="44.4" x="461.1" y="910.5434">repositories</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="49.8" x="458.4" y="921.109">:Repositories</text><rect fill="#F8F8F8" height="29.5313" style="stroke:#383838;stroke-width:0.8999999999999999;" width="76.2" x="518.4" y="21.2344"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="42" x="535.5" y="34.1543">listingRepo</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="67.8" x="522.6" y="44.7199">:ListingRepository</text><rect fill="#F8F8F8" height="29.5313" style="stroke:#383838;stroke-width:0.8999999999999999;" width="76.2" x="518.4" y="897.6234"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="42" x="535.5" y="910.5434">listingRepo</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="67.8" x="522.6" y="921.109">:ListingRepository</text><rect fill="#F8F8F8" height="29.5313" style="stroke:#383838;stroke-width:0.8999999999999999;" width="35.4" x="694.2" y="21.2344"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="21.6" x="701.1" y="34.1543">listing</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="27" x="698.4" y="44.7199">:Listing</text><rect fill="#F8F8F8" height="29.5313" style="stroke:#383838;stroke-width:0.8999999999999999;" width="35.4" x="694.2" y="897.6234"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="21.6" x="701.1" y="910.5434">listing</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="27" x="698.4" y="921.109">:Listing</text><rect fill="#FFFFFF" height="835.4578" style="stroke:#383838;stroke-width:0.6;" width="6" x="45" y="57.3656"/><rect fill="#FFFFFF" height="822.0469" style="stroke:#383838;stroke-width:0.6;" width="6" x="190.2" y="70.7766"/><rect fill="#FFFFFF" height="202.7203" style="stroke:#383838;stroke-width:0.6;" width="6" x="328.8" y="114.5531"/><rect fill="#FFFFFF" height="247.7531" style="stroke:#383838;stroke-width:0.6;" width="6" x="328.8" y="406.7391"/><rect fill="#FFFFFF" height="110.4656" style="stroke:#383838;stroke-width:0.6;" width="6" x="328.8" y="692.1141"/><rect fill="#FFFFFF" height="18.2109" style="stroke:#383838;stroke-width:0.6;" width="6" x="416.1" y="132.7641"/><rect fill="#FFFFFF" height="18.2109" style="stroke:#383838;stroke-width:0.6;" width="6" x="480.3" y="169.1859"/><rect fill="#FFFFFF" height="93.4547" style="stroke:#383838;stroke-width:0.6;" width="6" x="553.5" y="205.6078"/><rect fill="#FFFFFF" height="183.3094" style="stroke:#383838;stroke-width:0.6;" width="6" x="553.5" y="434.7609"/><rect fill="#FFFFFF" height="74.0438" style="stroke:#383838;stroke-width:0.6;" width="6" x="553.5" y="710.325"/><rect fill="#FFFFFF" height="18.2109" style="stroke:#383838;stroke-width:0.6;" width="6" x="708.9" y="254.2406"/><rect fill="#FFFFFF" height="18.2109" style="stroke:#383838;stroke-width:0.6;" width="6" x="708.9" y="468.1828"/><rect fill="#FFFFFF" height="18.2109" style="stroke:#383838;stroke-width:0.6;" width="6" x="708.9" y="504.6047"/><rect fill="#FFFFFF" height="18.2109" style="stroke:#383838;stroke-width:0.6;" width="6" x="708.9" y="541.0266"/><rect fill="#FFFFFF" height="18.2109" style="stroke:#383838;stroke-width:0.6;" width="6" x="708.9" y="577.4484"/><rect fill="#FFFFFF" height="18.2109" style="stroke:#383838;stroke-width:0.6;" width="6" x="708.9" y="743.7469"/><polygon fill="#383838" points="183,68.3766,189,70.7766,183,73.1766,185.4,70.7766" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;" x1="51" x2="186.6" y1="70.7766" y2="70.7766"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="55.2" y="67.8627">1</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="100.2" x="61.8" y="67.8627">starts listing announcements</text><polygon fill="#383838" points="272.4,86.5875,278.4,88.9875,272.4,91.3875,274.8,88.9875" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;" x1="196.2" x2="276" y1="88.9875" y2="88.9875"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="200.4" y="86.0736">2</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="21.6" x="207" y="86.0736">create</text><rect fill="#F8F8F8" height="18.9656" style="stroke:#383838;stroke-width:0.8999999999999999;" width="104.4" x="279.6" y="75.5766"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="96" x="283.8" y="88.4965">:DisplayListingsController</text><polygon fill="#383838" points="321.6,112.1531,327.6,114.5531,321.6,116.9531,324,114.5531" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;" x1="196.2" x2="325.2" y1="114.5531" y2="114.5531"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="200.4" y="111.6393">3</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="67.2" x="207" y="111.6393">getAvailableFields()</text><polygon fill="#383838" points="408.9,130.3641,414.9,132.7641,408.9,135.1641,411.3,132.7641" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;" x1="334.8" x2="412.5" y1="132.7641" y2="132.7641"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="339" y="129.8502">4</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="45" x="345.6" y="129.8502">getInstance()</text><polygon fill="#383838" points="341.4,148.575,335.4,150.975,341.4,153.375,339,150.975" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="337.8" x2="418.5" y1="150.975" y2="150.975"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="345" y="148.0611">5</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="40.2" x="351.6" y="148.0611">repositories</text><polygon fill="#383838" points="473.1,166.7859,479.1,169.1859,473.1,171.5859,475.5,169.1859" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;" x1="334.8" x2="476.7" y1="169.1859" y2="169.1859"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="339" y="166.2721">6</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="79.8" x="345.6" y="166.2721">getListingsRepository()</text><polygon fill="#383838" points="341.4,184.9969,335.4,187.3969,341.4,189.7969,339,187.3969" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="337.8" x2="482.7" y1="187.3969" y2="187.3969"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="345" y="184.483">7</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="61.8" x="351.6" y="184.483">listingsRepository</text><polygon fill="#383838" points="546.3,203.2078,552.3,205.6078,546.3,208.0078,548.7,205.6078" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;" x1="334.8" x2="549.9" y1="205.6078" y2="205.6078"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="339" y="202.6939">8</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="67.2" x="345.6" y="202.6939">getAvailableFields()</text><path d="M506.4,214.6078 L550.2,214.6078 L550.2,219.4078 L544.2,225.4078 L506.4,225.4078 L506.4,214.6078 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.6;"/><rect fill="none" height="66.8438" style="stroke:#000000;stroke-width:1.2;" width="235.2" x="506.4" y="214.6078"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="515.4" y="223.3049">loop</text><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacing" textLength="54" x="559.2" y="222.6592">[for each listing]</text><path d="M512.4,229.8188 L549,229.8188 L549,234.6187 L543,240.6187 L512.4,240.6187 L512.4,229.8188 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.6;"/><rect fill="none" height="47.4328" style="stroke:#000000;stroke-width:1.2;" width="223.2" x="512.4" y="229.8188"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="9.6" x="521.4" y="238.5158">alt</text><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacing" textLength="91.2" x="558" y="237.8701">[listing is visible/published]</text><polygon fill="#383838" points="701.7,251.8406,707.7,254.2406,701.7,256.6406,704.1,254.2406" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;" x1="559.5" x2="705.3" y1="254.2406" y2="254.2406"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="563.7" y="251.3268">9</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="38.4" x="570.3" y="251.3268">getListing()</text><polygon fill="#383838" points="566.1,270.0516,560.1,272.4516,566.1,274.8516,563.7,272.4516" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="562.5" x2="711.3" y1="272.4516" y2="272.4516"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="569.7" y="269.5377">10</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="20.4" x="580.5" y="269.5377">listing</text><polygon fill="#383838" points="341.4,296.6625,335.4,299.0625,341.4,301.4625,339,299.0625" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="337.8" x2="555.9" y1="299.0625" y2="299.0625"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="345" y="296.1486">11</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="50.4" x="355.8" y="296.1486">availableFields</text><polygon fill="#383838" points="202.8,314.8734,196.8,317.2734,202.8,319.6734,200.4,317.2734" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;" x1="199.2" x2="331.2" y1="317.2734" y2="317.2734"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="206.4" y="314.3596">12</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="50.4" x="217.2" y="314.3596">availableFields</text><polygon fill="#383838" points="57.6,342.8953,51.6,345.2953,57.6,347.6953,55.2,345.2953" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="54" x2="189.6" y1="345.2953" y2="345.2953"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="61.2" y="337.476">13</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="89.4" x="72" y="332.5705">shows available fields and</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="81" x="72" y="342.3814">requests data selection</text><path d="M6,354.2953 L42.6,354.2953 L42.6,359.0953 L36.6,365.0953 L6,365.0953 L6,354.2953 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.6;"/><rect fill="none" height="471.2953" style="stroke:#000000;stroke-width:1.2;" width="735.6" x="6" y="354.2953"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="9.6" x="15" y="362.9924">alt</text><polygon fill="#383838" points="183,376.3172,189,378.7172,183,381.1172,185.4,378.7172" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;" x1="51" x2="186.6" y1="378.7172" y2="378.7172"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="55.2" y="375.8033">14</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="72.6" x="66" y="375.8033">selects required data</text><polygon fill="#383838" points="321.6,404.3391,327.6,406.7391,321.6,409.1391,324,406.7391" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;" x1="196.2" x2="325.2" y1="406.7391" y2="406.7391"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="200.4" y="398.9197">15</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="90.6" x="211.2" y="394.0143">getListings(businessType,</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="110.4" x="211.2" y="403.8252">propertyType, numberOfRooms)</text><polygon fill="#383838" points="546.3,432.3609,552.3,434.7609,546.3,437.1609,548.7,434.7609" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;" x1="334.8" x2="549.9" y1="434.7609" y2="434.7609"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="339" y="426.9416">16</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="90.6" x="349.8" y="422.0361">getListings(businessType,</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="110.4" x="349.8" y="431.8471">propertyType, numberOfRooms)</text><path d="M512.4,443.7609 L556.2,443.7609 L556.2,448.5609 L550.2,454.5609 L512.4,454.5609 L512.4,443.7609 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.6;"/><rect fill="none" height="156.6984" style="stroke:#000000;stroke-width:1.2;" width="223.2" x="512.4" y="443.7609"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="521.4" y="452.458">loop</text><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacing" textLength="54" x="565.2" y="451.8123">[for each listing]</text><polygon fill="#383838" points="701.7,465.7828,707.7,468.1828,701.7,470.5828,704.1,468.1828" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;" x1="559.5" x2="705.3" y1="468.1828" y2="468.1828"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="563.7" y="465.2689">17</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="34.2" x="574.5" y="465.2689">isVisible()</text><polygon fill="#383838" points="566.1,483.9938,560.1,486.3937,566.1,488.7938,563.7,486.3937" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="562.5" x2="711.3" y1="486.3937" y2="486.3937"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="569.7" y="483.4799">18</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="31.8" x="580.5" y="483.4799">true/false</text><polygon fill="#383838" points="701.7,502.2047,707.7,504.6047,701.7,507.0047,704.1,504.6047" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;" x1="559.5" x2="705.3" y1="504.6047" y2="504.6047"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="563.7" y="501.6908">19</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="106.8" x="574.5" y="501.6908">businessTypeIs(businessType)</text><polygon fill="#383838" points="566.1,520.4156,560.1,522.8156,566.1,525.2156,563.7,522.8156" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="562.5" x2="711.3" y1="522.8156" y2="522.8156"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="569.7" y="519.9018">20</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="31.8" x="580.5" y="519.9018">true/false</text><polygon fill="#383838" points="701.7,538.6266,707.7,541.0266,701.7,543.4266,704.1,541.0266" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;" x1="559.5" x2="705.3" y1="541.0266" y2="541.0266"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="563.7" y="538.1127">21</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="100.8" x="574.5" y="538.1127">propertyTypeIs(propertyType)</text><polygon fill="#383838" points="566.1,556.8375,560.1,559.2375,566.1,561.6375,563.7,559.2375" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="562.5" x2="711.3" y1="559.2375" y2="559.2375"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="569.7" y="556.3236">22</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="31.8" x="580.5" y="556.3236">true/false</text><polygon fill="#383838" points="701.7,575.0484,707.7,577.4484,701.7,579.8484,704.1,577.4484" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;" x1="559.5" x2="705.3" y1="577.4484" y2="577.4484"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="563.7" y="574.5346">23</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="127.2" x="574.5" y="574.5346">numberOfRoomsIs(numberOfRooms)</text><polygon fill="#383838" points="566.1,593.2594,560.1,595.6594,566.1,598.0594,563.7,595.6594" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="562.5" x2="711.3" y1="595.6594" y2="595.6594"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="569.7" y="592.7455">24</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="31.8" x="580.5" y="592.7455">true/false</text><polygon fill="#383838" points="341.4,615.6703,335.4,618.0703,341.4,620.4703,339,618.0703" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="337.8" x2="555.9" y1="618.0703" y2="618.0703"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="345" y="615.1564">25</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="58.8" x="355.8" y="615.1564">matchingListings</text><polygon fill="#383838" points="202.8,633.8813,196.8,636.2813,202.8,638.6813,200.4,636.2813" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="199.2" x2="328.2" y1="636.2813" y2="636.2813"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="206.4" y="633.3674">26</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="58.8" x="217.2" y="633.3674">matchingListings</text><polygon fill="#383838" points="57.6,652.0922,51.6,654.4922,57.6,656.8922,55.2,654.4922" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="54" x2="189.6" y1="654.4922" y2="654.4922"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="61.2" y="651.5783">27</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="114" x="72" y="651.5783">shows matching announcements</text><line style="stroke:#000000;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="6" x2="741.6" y1="659.8922" y2="659.8922"/><polygon fill="#383838" points="183,671.5031,189,673.9031,183,676.3031,185.4,673.9031" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;" x1="51" x2="186.6" y1="673.9031" y2="673.9031"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="55.2" y="670.9893">28</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="80.4" x="66" y="670.9893">doesn't select any data</text><polygon fill="#383838" points="321.6,689.7141,327.6,692.1141,321.6,694.5141,324,692.1141" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;" x1="196.2" x2="325.2" y1="692.1141" y2="692.1141"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="200.4" y="689.2002">29</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="51.6" x="211.2" y="689.2002">getAllListings()</text><polygon fill="#383838" points="546.3,707.925,552.3,710.325,546.3,712.725,548.7,710.325" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;" x1="334.8" x2="549.9" y1="710.325" y2="710.325"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="339" y="707.4111">30</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="66" x="349.8" y="707.4111">getVisibleListings()</text><path d="M512.4,719.325 L556.2,719.325 L556.2,724.125 L550.2,730.125 L512.4,730.125 L512.4,719.325 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.6;"/><rect fill="none" height="47.4328" style="stroke:#000000;stroke-width:1.2;" width="223.2" x="512.4" y="719.325"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="521.4" y="728.0221">loop</text><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacing" textLength="54" x="565.2" y="727.3764">[for each listing]</text><polygon fill="#383838" points="701.7,741.3469,707.7,743.7469,701.7,746.1469,704.1,743.7469" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;" x1="559.5" x2="705.3" y1="743.7469" y2="743.7469"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="563.7" y="740.833">31</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="34.2" x="574.5" y="740.833">isVisible()</text><polygon fill="#383838" points="566.1,759.5578,560.1,761.9578,566.1,764.3578,563.7,761.9578" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="562.5" x2="711.3" y1="761.9578" y2="761.9578"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="569.7" y="759.0439">32</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="31.8" x="580.5" y="759.0439">true/false</text><polygon fill="#383838" points="341.4,781.9688,335.4,784.3688,341.4,786.7688,339,784.3688" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="337.8" x2="555.9" y1="784.3688" y2="784.3688"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="345" y="781.4549">33</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="24.6" x="355.8" y="781.4549">listings</text><polygon fill="#383838" points="202.8,800.1797,196.8,802.5797,202.8,804.9797,200.4,802.5797" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="199.2" x2="331.2" y1="802.5797" y2="802.5797"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="206.4" y="799.6658">34</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="24.6" x="217.2" y="799.6658">listings</text><polygon fill="#383838" points="57.6,818.3906,51.6,820.7906,57.6,823.1906,55.2,820.7906" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="54" x2="189.6" y1="820.7906" y2="820.7906"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="61.2" y="817.8768">35</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="90" x="72" y="817.8768">shows all announcements</text><polygon fill="#383838" points="183,840.8016,189,843.2016,183,845.6016,185.4,843.2016" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;" x1="51" x2="186.6" y1="843.2016" y2="843.2016"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="55.2" y="840.2877">36</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="70.8" x="66" y="840.2877">selects sorting order</text><line style="stroke:#383838;stroke-width:0.6;" x1="196.2" x2="221.4" y1="861.4125" y2="861.4125"/><line style="stroke:#383838;stroke-width:0.6;" x1="221.4" x2="221.4" y1="861.4125" y2="869.2125"/><line style="stroke:#383838;stroke-width:0.6;" x1="196.8" x2="221.4" y1="869.2125" y2="869.2125"/><polygon fill="#383838" points="202.8,866.8125,196.8,869.2125,202.8,871.6125,200.4,869.2125" style="stroke:#383838;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="200.4" y="858.4986">37</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="37.2" x="211.2" y="858.4986">sort(mode)</text><polygon fill="#383838" points="57.6,885.0234,51.6,887.4234,57.6,889.8234,55.2,887.4234" style="stroke:#383838;stroke-width:0.6;"/><line style="stroke:#383838;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="54" x2="189.6" y1="887.4234" y2="887.4234"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="61.2" y="884.5096">38</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="70.2" x="72" y="884.5096">displays sorted data</text><!--MD5=[0b1a470f05ffbca77a990e5436ed1eac]
@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

autonumber

'hide footbox
actor "Unregistered User" as UR
participant ":DisplayListingsUI" as UI
participant ":DisplayListingsUI" as UI
participant ":DisplayListingsController" as CTRL
participant ":Repositories" as reposclass
participant "repositories\n:Repositories" as repositories
participant "listingRepo\n:ListingRepository" as LRepo
participant "listing\n:Listing" as listing



activate UR
UR -> UI: starts listing announcements
    activate UI
    UI -> CTRL**: create
UI -> CTRL: getAvailableFields()
        activate CTRL

        CTRL -> reposclass: getInstance()
            activate reposclass
            reposclass - -> CTRL: repositories
            deactivate reposclass
        CTRL -> repositories: getListingsRepository()
            activate repositories
            repositories - -> CTRL: listingsRepository
            deactivate repositories
        CTRL -> LRepo: getAvailableFields()
            activate LRepo
            loop for each listing
                alt listing is visible/published
                'LRepo -> listing: getBusinessType()
                LRepo -> listing: getListing()
                    activate listing
                    return listing
                'listing - -> LRepo: businessType
                'LRepo -> listing: getPropertyType()
                'listing - -> LRepo: propertyType
                'LRepo -> listing: getNumberOfRooms()
                'listing - -> LRepo: numberOfRooms
                    deactivate listing
                end
            end
            LRepo - -> CTRL: availableFields
            deactivate LRepo

            CTRL -> UI: availableFields
            deactivate CTRL

            UI - -> UR: shows available fields and\nrequests data selection
        alt
            UR -> UI: selects required data
            UI -> CTRL: getListings(businessType,\npropertyType, numberOfRooms)
            activate CTRL
            CTRL -> LRepo: getListings(businessType,\npropertyType, numberOfRooms)
            activate LRepo
            loop for each listing
            LRepo -> listing: isVisible()
            activate listing
            return true/false
            deactivate listing
            LRepo -> listing: businessTypeIs(businessType)
            activate listing
            return true/false
            deactivate listing

            LRepo -> listing: propertyTypeIs(propertyType)
            activate listing
            return true/false
            deactivate listing

            LRepo -> listing: numberOfRoomsIs(numberOfRooms)
            activate listing
            return true/false
            deactivate listing


            end

LRepo - -> CTRL: matchingListings
deactivate LRepo
CTRL - -> UI: matchingListings
UI - -> UR: shows matching announcements
deactivate CTRL
else
UR -> UI: doesn't select any data
UI -> CTRL: getAllListings()
activate CTRL
CTRL -> LRepo: getVisibleListings()
activate LRepo
loop for each listing
    LRepo -> listing: isVisible()
    activate listing
    return true/false
    deactivate listing
end
LRepo - -> CTRL: listings
deactivate LRepo

CTRL - -> UI: listings
deactivate CTRL
UI - -> UR: shows all announcements

end 'ALT fragment end

UR -> UI: selects sorting order
UI -> UI: sort(mode)
UI - -> UR: displays sorted data


@enduml

@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

autonumber

actor "Unregistered User" as UR
participant ":DisplayListingsUI" as UI
participant ":DisplayListingsUI" as UI
participant ":DisplayListingsController" as CTRL
participant ":Repositories" as reposclass
participant "repositories\n:Repositories" as repositories
participant "listingRepo\n:ListingRepository" as LRepo
participant "listing\n:Listing" as listing



activate UR
UR -> UI: starts listing announcements
    activate UI
    UI -> CTRL**: create
UI -> CTRL: getAvailableFields()
        activate CTRL

        CTRL -> reposclass: getInstance()
            activate reposclass
            reposclass - -> CTRL: repositories
            deactivate reposclass
        CTRL -> repositories: getListingsRepository()
            activate repositories
            repositories - -> CTRL: listingsRepository
            deactivate repositories
        CTRL -> LRepo: getAvailableFields()
            activate LRepo
            loop for each listing
                alt listing is visible/published
                LRepo -> listing: getListing()
                    activate listing
                    return listing
                    deactivate listing
                end
            end
            LRepo - -> CTRL: availableFields
            deactivate LRepo

            CTRL -> UI: availableFields
            deactivate CTRL

            UI - -> UR: shows available fields and\nrequests data selection
        alt
            UR -> UI: selects required data
            UI -> CTRL: getListings(businessType,\npropertyType, numberOfRooms)
            activate CTRL
            CTRL -> LRepo: getListings(businessType,\npropertyType, numberOfRooms)
            activate LRepo
            loop for each listing
            LRepo -> listing: isVisible()
            activate listing
            return true/false
            deactivate listing
            LRepo -> listing: businessTypeIs(businessType)
            activate listing
            return true/false
            deactivate listing

            LRepo -> listing: propertyTypeIs(propertyType)
            activate listing
            return true/false
            deactivate listing

            LRepo -> listing: numberOfRoomsIs(numberOfRooms)
            activate listing
            return true/false
            deactivate listing


            end

LRepo - -> CTRL: matchingListings
deactivate LRepo
CTRL - -> UI: matchingListings
UI - -> UR: shows matching announcements
deactivate CTRL
else
UR -> UI: doesn't select any data
UI -> CTRL: getAllListings()
activate CTRL
CTRL -> LRepo: getVisibleListings()
activate LRepo
loop for each listing
    LRepo -> listing: isVisible()
    activate listing
    return true/false
    deactivate listing
end
LRepo - -> CTRL: listings
deactivate LRepo

CTRL - -> UI: listings
deactivate CTRL
UI - -> UR: shows all announcements

end 'ALT fragment end

UR -> UI: selects sorting order
UI -> UI: sort(mode)
UI - -> UR: displays sorted data


@enduml

PlantUML version 1.2022.1(Tue Feb 01 18:19:58 GMT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>