<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="470px" preserveAspectRatio="none" style="width:835px;height:470px;background:#FFFFFF;" version="1.1" viewBox="0 0 835 470" width="835px" zoomAndPan="magnify"><defs/><g><rect height="27.6094" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="216" x="311.25" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="206" x="316.25" y="29.5332">User specifies a new location</text><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="145.5" y="234.625"/><rect fill="#FFFFFF" height="47.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="531.5" y="131.2188"/><rect fill="#FFFFFF" height="105.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="531.5" y="264.9766"/><rect fill="#FFFFFF" height="60.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="763.5" y="264.9766"/><rect height="202.4609" style="stroke:#000000;stroke-width:1.5;fill:none;" width="819.5" x="10" y="138.2188"/><rect height="139.7578" style="stroke:#000000;stroke-width:1.5;fill:none;" width="799.5" x="20" y="193.9219"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="47" x2="47" y1="121.2188" y2="388.0313"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="150.5" x2="150.5" y1="121.2188" y2="388.0313"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="536.5" x2="536.5" y1="121.2188" y2="388.0313"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="768.5" x2="768.5" y1="121.2188" y2="388.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="30" y="118.1426">User</text><ellipse cx="47.5" cy="52.1094" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M47.5,60.1094 L47.5,87.1094 M34.5,68.1094 L60.5,68.1094 M47.5,87.1094 L34.5,102.1094 M47.5,87.1094 L60.5,102.1094 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="30" y="401.5645">User</text><ellipse cx="47.5" cy="413.1406" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M47.5,421.1406 L47.5,448.1406 M34.5,429.1406 L60.5,429.1406 M47.5,448.1406 L34.5,463.1406 M47.5,448.1406 L60.5,463.1406 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="26" x="137.5" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="12" x="144.5" y="110.1426">UI</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="26" x="137.5" y="387.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="12" x="144.5" y="408.5645">UI</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="498.5" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="505.5" y="110.1426">Controller</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="498.5" y="387.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="505.5" y="408.5645">Controller</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82" x="727.5" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="734.5" y="110.1426">Repository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82" x="727.5" y="387.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="734.5" y="408.5645">Repository</text><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="145.5" y="234.625"/><rect fill="#FFFFFF" height="47.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="531.5" y="131.2188"/><rect fill="#FFFFFF" height="105.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="531.5" y="264.9766"/><rect fill="#FFFFFF" height="60.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="763.5" y="264.9766"/><path d="M10,138.2188 L71,138.2188 L71,146.5703 L61,156.5703 L10,156.5703 L10,138.2188 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="202.4609" style="stroke:#000000;stroke-width:1.5;" width="819.5" x="10" y="138.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="25" y="152.7139">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="74" x="86" y="151.6377">[Invalid input]</text><polygon fill="#181818" points="161.5,174.9219,151.5,178.9219,161.5,182.9219,157.5,178.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="155.5" x2="535.5" y1="178.9219" y2="178.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="167.5" y="174.0654">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="346" x="178.5" y="174.0654">displayErrorMessage("Invalid state input. Please try again.")</text><path d="M20,193.9219 L93,193.9219 L93,202.2734 L83,212.2734 L20,212.2734 L20,193.9219 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="139.7578" style="stroke:#000000;stroke-width:1.5;" width="799.5" x="20" y="193.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="35" y="208.417">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="143" x="108" y="207.3408">[until valid input provided]</text><polygon fill="#181818" points="133.5,230.625,143.5,234.625,133.5,238.625,137.5,234.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="47.5" x2="139.5" y1="234.625" y2="234.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="54.5" y="229.7686">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="65.5" y="229.7686">inputs state</text><polygon fill="#181818" points="519.5,260.9766,529.5,264.9766,519.5,268.9766,523.5,264.9766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="150.5" x2="525.5" y1="264.9766" y2="264.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="157.5" y="260.1201">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="168.5" y="260.1201">createState(state)</text><polygon fill="#181818" points="751.5,291.3281,761.5,295.3281,751.5,299.3281,755.5,295.3281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="541.5" x2="757.5" y1="295.3281" y2="295.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="548.5" y="290.4717">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="559.5" y="290.4717">validate(state)</text><polygon fill="#181818" points="552.5,321.6797,542.5,325.6797,552.5,329.6797,548.5,325.6797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="546.5" x2="767.5" y1="325.6797" y2="325.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="558.5" y="320.8232">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="569.5" y="320.8232">returns outcome of the operation</text><polygon fill="#181818" points="547.5,366.0313,537.5,370.0313,547.5,374.0313,543.5,370.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="541.5" x2="767.5" y1="370.0313" y2="370.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="553.5" y="365.1748">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="564.5" y="365.1748">save(state)</text><!--MD5=[13745bdcdb225b6a03d9be112462ab49]
@startuml
autonumber
title User specifies a new location

actor User
participant UI
participant Controller
participant Repository




alt Invalid input
    activate Controller
    Controller -> UI: displayErrorMessage("Invalid state input. Please try again.")
    deactivate Controller
    loop until valid input provided
        User -> UI: inputs state
        activate UI
        UI -> Controller: createState(state)
        deactivate UI
        activate Controller
        activate Repository
        Controller -> Repository : validate(state)
        Repository -> Controller : returns outcome of the operation
        deactivate Repository

    end
end

Repository - -> Controller: save(state)
deactivate Repository

deactivate Controller


@enduml

PlantUML version 1.2022.4(Sat Apr 09 14:29:17 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: MS932
Language: en
Country: US
--></g></svg>