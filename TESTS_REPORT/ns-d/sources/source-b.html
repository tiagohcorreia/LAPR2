


<!DOCTYPE html>
<html id="htmlId">
<head>
  <title>Coverage Report > PublishAnnouncementUI</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">pt.ipp.isep.dei.esoft.project.ui.console</a>
</div>

<h1>Coverage Summary for Class: PublishAnnouncementUI (pt.ipp.isep.dei.esoft.project.ui.console)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">PublishAnnouncementUI</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/221)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package pt.ipp.isep.dei.esoft.project.ui.console;
&nbsp;
&nbsp;
&nbsp;import pt.ipp.isep.dei.esoft.project.application.controller.PublishAnnouncementController;
&nbsp;import pt.ipp.isep.dei.esoft.project.application.controller.authorization.AuthenticationController;
&nbsp;import pt.ipp.isep.dei.esoft.project.domain.model.*;
&nbsp;import pt.ipp.isep.dei.esoft.project.domain.shared.SunExposure;
&nbsp;import pt.ipp.isep.dei.esoft.project.domain.shared.TypeOfBusiness;
&nbsp;import pt.ipp.isep.dei.esoft.project.domain.shared.TypeOfProperty;
&nbsp;import pt.ipp.isep.dei.esoft.project.ui.console.utils.Utils;
&nbsp;
&nbsp;
&nbsp;import java.time.LocalDate;
&nbsp;import java.util.ArrayList;
&nbsp;import java.util.InputMismatchException;
&nbsp;import java.util.List;
&nbsp;import java.util.Scanner;
&nbsp;
&nbsp;/**
&nbsp; * The type Publish announcement ui.
&nbsp; */
&nbsp;public class PublishAnnouncementUI implements Runnable {
&nbsp;    private Scanner scanner;
&nbsp;
&nbsp;    private final PublishAnnouncementController controller;
&nbsp;    private final AuthenticationController authenticationController;
&nbsp;
&nbsp;    /**
&nbsp;     * Instantiates a new Publish announcement ui.
&nbsp;     */
<b class="nc">&nbsp;    public PublishAnnouncementUI() {</b>
<b class="nc">&nbsp;        Scanner scanner = new Scanner(System.in);</b>
<b class="nc">&nbsp;        this.controller = new PublishAnnouncementController();</b>
<b class="nc">&nbsp;        this.authenticationController = new AuthenticationController();</b>
&nbsp;
&nbsp;
&nbsp;    }
&nbsp;
&nbsp;    public void run() {
&nbsp;
&nbsp;        TypeOfBusiness sellOrRent;
&nbsp;        TypeOfProperty typeProperty;
<b class="nc">&nbsp;        int bedrooms = 0;</b>
<b class="nc">&nbsp;        int bathrooms = 0;</b>
<b class="nc">&nbsp;        int parkingSpaces = 0;</b>
<b class="nc">&nbsp;        String equipment = &quot;&quot;;</b>
<b class="nc">&nbsp;        boolean hasBasement = false;</b>
<b class="nc">&nbsp;        boolean hasLoft = false;</b>
<b class="nc">&nbsp;        SunExposure sunExposure = null;</b>
&nbsp;        int area;
<b class="nc">&nbsp;        Location location = null;</b>
&nbsp;        int distance;
&nbsp;        float price;
<b class="nc">&nbsp;        ArrayList&lt;String&gt; photographs = new ArrayList&lt;&gt;();</b>
&nbsp;        String photo;
<b class="nc">&nbsp;        ArrayList&lt;String&gt; availableEquipment = new ArrayList&lt;&gt;();</b>
<b class="nc">&nbsp;        LocalDate date=LocalDate.now();</b>
<b class="nc">&nbsp;        int doorNumber = 0;</b>
<b class="nc">&nbsp;        String street = null;</b>
<b class="nc">&nbsp;        int postalCode = 0;</b>
<b class="nc">&nbsp;        boolean confirmed = false;</b>
<b class="nc">&nbsp;        int rentalMonths = 0;</b>
&nbsp;
&nbsp;
&nbsp;
&nbsp;
<b class="nc">&nbsp;        System.out.println(&quot;===== Publish a new announcement =====\n&quot;);</b>
&nbsp;
&nbsp;        //Agent
&nbsp;        //String agentsList = this.controller.getAgent().toString();
&nbsp;       // String agentName = controller.getAgentName();
&nbsp;        //String agent = Utils.readLineFromConsole(&quot;Agent, insert your name:: &quot;);
&nbsp;        // Employee agentResp = this.controller.getEmployee(agent);
&nbsp;
&nbsp;
<b class="nc">&nbsp;        Employee agent = controller.getCurrentAgent();</b>
&nbsp;
&nbsp;
&nbsp;
&nbsp;
&nbsp;
&nbsp;        //typeOfBusiness
&nbsp;
&nbsp;        /*List&lt;TypeOfBusiness&gt; typeOfBusinessList = this.controller.getTypeOfBusinessAsList();
&nbsp;        Utils.showList(typeOfBusinessList, &quot;Type of Business&quot;);
&nbsp;        TypeOfBusiness selectedTypeOfBusiness = null;
&nbsp;        while (selectedTypeOfBusiness == null) {
&nbsp;            Integer posTypeOfBusiness = Utils.readIntegerFromConsole(&quot;Choose the Type of Business: &quot;);
&nbsp;            selectedTypeOfBusiness = TypeOfBusiness.getTypeOfBusinessById(posTypeOfBusiness);
&nbsp;            if (selectedTypeOfBusiness == null) {
&nbsp;                System.out.println(&quot;Invalid input. Please try again.&quot;);
&nbsp;            }
&nbsp;        }
&nbsp;        sellOrRent = selectedTypeOfBusiness; */
&nbsp;
<b class="nc">&nbsp;        List&lt;TypeOfBusiness&gt; typeOfBusinessList = this.controller.getTypeOfBusinessAsList();</b>
<b class="nc">&nbsp;        Utils.showList(typeOfBusinessList, &quot;Type of Business&quot;);</b>
<b class="nc">&nbsp;         sellOrRent = null;</b>
&nbsp;
<b class="nc">&nbsp;        while (sellOrRent == null) {</b>
&nbsp;            try {
<b class="nc">&nbsp;                Integer posTypeOfBusiness = Utils.readIntegerFromConsole(&quot;Choose the Type of Business: &quot;);</b>
<b class="nc">&nbsp;                TypeOfBusiness selectedTypeOfBusiness = TypeOfBusiness.getTypeOfBusinessById(posTypeOfBusiness);</b>
&nbsp;
<b class="nc">&nbsp;                if (selectedTypeOfBusiness == null) {</b>
<b class="nc">&nbsp;                    throw new IllegalArgumentException();</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                sellOrRent = selectedTypeOfBusiness;</b>
&nbsp;
<b class="nc">&nbsp;                if (sellOrRent == TypeOfBusiness.RENT) {</b>
<b class="nc">&nbsp;                    System.out.print(&quot;Number of months: &quot;);</b>
<b class="nc">&nbsp;                    rentalMonths = scanner.nextInt();</b>
&nbsp;
&nbsp;                }
<b class="nc">&nbsp;            } catch (NumberFormatException e) {</b>
<b class="nc">&nbsp;                System.out.println(&quot;Invalid input. Please enter a number.&quot;);</b>
<b class="nc">&nbsp;            } catch (IllegalArgumentException e) {</b>
<b class="nc">&nbsp;                System.out.println(&quot;Invalid input. Please try again.&quot;);</b>
<b class="nc">&nbsp;            }</b>
&nbsp;        }
&nbsp;
&nbsp;
<b class="nc">&nbsp;        List&lt;TypeOfProperty&gt; types = this.controller.getTypeOfPropertyAsList();</b>
<b class="nc">&nbsp;        System.out.println(&quot;Select the property type:&quot;);</b>
<b class="nc">&nbsp;        for (int i = 0; i &lt; types.size(); i++) {</b>
<b class="nc">&nbsp;            System.out.println((i + 1) + &quot; - &quot; + types.get(i));</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        Scanner scanner = new Scanner(System.in);</b>
<b class="nc">&nbsp;        int posTypeOfProperty = 0;</b>
<b class="nc">&nbsp;        boolean validInput = false;</b>
&nbsp;
<b class="nc">&nbsp;        while (!validInput) {</b>
&nbsp;            try {
<b class="nc">&nbsp;                if (scanner.hasNextInt()) {</b>
<b class="nc">&nbsp;                    posTypeOfProperty = scanner.nextInt();</b>
<b class="nc">&nbsp;                    if (posTypeOfProperty &gt; 0 &amp;&amp; posTypeOfProperty &lt;= types.size()) {</b>
<b class="nc">&nbsp;                        validInput = true;</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        System.out.println(&quot;Invalid input. Please choose a number between 1 and &quot; + types.size() + &quot;.&quot;);</b>
<b class="nc">&nbsp;                        scanner.nextLine(); // Descartar a entrada inválida do usuário</b>
&nbsp;                    }
&nbsp;                } else {
<b class="nc">&nbsp;                    System.out.println(&quot;Invalid input. Please enter a number.&quot;);</b>
<b class="nc">&nbsp;                    scanner.nextLine(); // Descartar a entrada inválida do usuário</b>
&nbsp;                }
<b class="nc">&nbsp;            } catch (InputMismatchException e) {</b>
<b class="nc">&nbsp;                System.out.println(&quot;Invalid input. Please enter a valid number.&quot;);</b>
<b class="nc">&nbsp;                scanner.nextLine(); // Descartar a entrada inválida do usuário</b>
<b class="nc">&nbsp;            }</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        TypeOfProperty selectedType = types.get(posTypeOfProperty - 1);</b>
&nbsp;
&nbsp;
&nbsp;            // Dados comuns a todas as propriedades
&nbsp;
&nbsp;            //area
<b class="nc">&nbsp;            System.out.println(&quot;area (m2):&quot;);</b>
<b class="nc">&nbsp;            area = scanner.nextInt();</b>
<b class="nc">&nbsp;            scanner.nextLine();</b>
&nbsp;
&nbsp;            //location
&nbsp;           /* String city = Utils.readLineFromConsole(&quot;Insert the city:&quot;);
&nbsp;
&nbsp;            City existingCity = this.controller.getCity(city);
&nbsp;            if (existingCity != null) {
&nbsp;
&nbsp;                street = Utils.readLineFromConsole(&quot;Insert the street:&quot;);
&nbsp;                postalCode = Integer.parseInt(Utils.readLineFromConsole(&quot;Insert the postal code(5 digits):&quot;));
&nbsp;
&nbsp;
&nbsp;            } else {
&nbsp;
&nbsp;                System.out.println(&quot;City not found in the repository. Please enter a valid city.&quot;);
&nbsp;            } */
&nbsp;
&nbsp;
&nbsp;        // Location
<b class="nc">&nbsp;        List&lt;City&gt; cityList = this.controller.getCityList();</b>
<b class="nc">&nbsp;        Utils.showList(cityList, &quot;Cities&quot;);</b>
&nbsp;
<b class="nc">&nbsp;        String city = null;</b>
<b class="nc">&nbsp;        City existingCity = null;</b>
&nbsp;
<b class="nc">&nbsp;        while (existingCity == null) {</b>
<b class="nc">&nbsp;            city = Utils.readLineFromConsole(&quot;Insert the city:&quot;);</b>
<b class="nc">&nbsp;            existingCity = this.controller.getCity(city);</b>
&nbsp;
<b class="nc">&nbsp;            if (existingCity == null) {</b>
<b class="nc">&nbsp;                System.out.println(&quot;City not found in the repository. Please enter a valid city.&quot;);</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;         location = new Location(); // Inicializa o objeto Location</b>
&nbsp;
<b class="nc">&nbsp;         street = null;</b>
<b class="nc">&nbsp;        boolean validStreet = false;</b>
&nbsp;
<b class="nc">&nbsp;        while (!validStreet) {</b>
<b class="nc">&nbsp;            street = Utils.readLineFromConsole(&quot;Insert the street:&quot;);</b>
&nbsp;
<b class="nc">&nbsp;            if (location.streetIsValid(street)) {</b>
<b class="nc">&nbsp;                validStreet = true;</b>
&nbsp;            } else {
<b class="nc">&nbsp;                System.out.println(&quot;Street is invalid. Please enter a valid street.&quot;);</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        postalCode = 0;</b>
<b class="nc">&nbsp;        boolean validPostalCode = false;</b>
&nbsp;
<b class="nc">&nbsp;        while (!validPostalCode) {</b>
<b class="nc">&nbsp;            String postalCodeStr = Utils.readLineFromConsole(&quot;Insert the postal code (5 digits):&quot;);</b>
&nbsp;
&nbsp;            try {
<b class="nc">&nbsp;                int postalCodeValue = Integer.parseInt(postalCodeStr);</b>
&nbsp;
<b class="nc">&nbsp;                if (location.zipCodeIsValid(postalCodeValue)) {</b>
<b class="nc">&nbsp;                    postalCode = postalCodeValue;</b>
<b class="nc">&nbsp;                    validPostalCode = true;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    System.out.println(&quot;Postal code is invalid. Please enter a valid postal code.&quot;);</b>
&nbsp;                }
<b class="nc">&nbsp;            } catch (NumberFormatException e) {</b>
<b class="nc">&nbsp;                System.out.println(&quot;Invalid input. Postal code must be a number.&quot;);</b>
<b class="nc">&nbsp;            }</b>
<b class="nc">&nbsp;        }</b>
&nbsp;
&nbsp;
&nbsp;
&nbsp;
&nbsp;
&nbsp;
&nbsp;
&nbsp;
&nbsp;                //distanceFromCityCenter
<b class="nc">&nbsp;            System.out.println(&quot;Distance from city center(km):&quot;);</b>
<b class="nc">&nbsp;            distance = scanner.nextInt();</b>
<b class="nc">&nbsp;            scanner.nextLine();</b>
&nbsp;
&nbsp;            //price
<b class="nc">&nbsp;            System.out.println(&quot;price:&quot;);</b>
<b class="nc">&nbsp;            price = scanner.nextFloat();</b>
<b class="nc">&nbsp;            scanner.nextLine();</b>
&nbsp;
&nbsp;            //Commission
<b class="nc">&nbsp;            System.out.println(&quot;Commission:&quot;);</b>
<b class="nc">&nbsp;            float commission = scanner.nextFloat();</b>
<b class="nc">&nbsp;            scanner.nextLine();</b>
&nbsp;
&nbsp;
&nbsp;            //photographs
<b class="nc">&nbsp;        System.out.println(&quot;Insert the photos&quot;);</b>
<b class="nc">&nbsp;        System.out.println(&quot;Type &#39;exit&#39; to finish&quot;);</b>
<b class="nc">&nbsp;        photo = &quot;&quot;;</b>
<b class="nc">&nbsp;        int maxPhotos = 30;</b>
<b class="nc">&nbsp;        while (!photo.equalsIgnoreCase(&quot;exit&quot;)) {</b>
<b class="nc">&nbsp;            photo = scanner.nextLine();</b>
<b class="nc">&nbsp;            if (!photo.equalsIgnoreCase(&quot;exit&quot;)) {</b>
<b class="nc">&nbsp;                if (photographs.size() &lt; maxPhotos) {</b>
<b class="nc">&nbsp;                    photographs.add(photo);</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    System.out.println(&quot;Maximum number of photos (30) reached.&quot;);</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;
&nbsp;
&nbsp;            // Dados específicos de cada tipo de propriedade
&nbsp;
&nbsp;
<b class="nc">&nbsp;            switch (posTypeOfProperty) {</b>
&nbsp;                case 1: // House
&nbsp;
<b class="nc">&nbsp;                    doorNumber = Integer.getInteger(Utils.readLineFromConsole(&quot;Insert the door number:&quot;));</b>
&nbsp;
&nbsp;                    //bedrroms
<b class="nc">&nbsp;                    System.out.println(&quot;Number of bedrooms:&quot;);</b>
<b class="nc">&nbsp;                    bedrooms = scanner.nextInt();</b>
<b class="nc">&nbsp;                    scanner.nextLine();</b>
&nbsp;
&nbsp;                    //bathrooms
<b class="nc">&nbsp;                    System.out.println(&quot;Number of bathrooms:&quot;);</b>
<b class="nc">&nbsp;                    bathrooms = scanner.nextInt();</b>
<b class="nc">&nbsp;                    scanner.nextLine();</b>
&nbsp;
&nbsp;
&nbsp;                    //parkingSpaces
<b class="nc">&nbsp;                    System.out.println(&quot;Number of parking spces:&quot;);</b>
<b class="nc">&nbsp;                    parkingSpaces = scanner.nextInt();</b>
<b class="nc">&nbsp;                    scanner.nextLine();</b>
&nbsp;
&nbsp;                    //availableEquipments
<b class="nc">&nbsp;                    System.out.println(&quot;Insert the available Equipments&quot;);</b>
<b class="nc">&nbsp;                    System.out.println(&quot;Type &#39;exit&#39; to finish&quot;);</b>
<b class="nc">&nbsp;                    equipment = &quot;&quot;;</b>
<b class="nc">&nbsp;                    while (!equipment.equalsIgnoreCase(&quot;exit&quot;)) {</b>
<b class="nc">&nbsp;                        equipment = scanner.nextLine();</b>
<b class="nc">&nbsp;                        if (!equipment.equalsIgnoreCase(&quot;exit&quot;)) {</b>
<b class="nc">&nbsp;                            availableEquipment.add(equipment);</b>
&nbsp;                        }
&nbsp;                    }
&nbsp;
&nbsp;                    //basement
<b class="nc">&nbsp;                    System.out.println(&quot;Has a basement? (yes/no)&quot;);</b>
<b class="nc">&nbsp;                    String basement = scanner.nextLine();</b>
<b class="nc">&nbsp;                    hasBasement = false;</b>
<b class="nc">&nbsp;                    if (basement.equalsIgnoreCase(&quot;yes&quot;)) {</b>
<b class="nc">&nbsp;                        hasBasement = true;</b>
<b class="nc">&nbsp;                    } else if (!basement.equalsIgnoreCase(&quot;no&quot;)) {</b>
<b class="nc">&nbsp;                        System.out.println(&quot;Invalid. Please, insert &#39;yes&#39; or &#39;no&#39;.&quot;);</b>
&nbsp;                    }
&nbsp;
&nbsp;                    //loft
<b class="nc">&nbsp;                    System.out.println(&quot;Has an habitable loft? (yes/no)&quot;);</b>
<b class="nc">&nbsp;                    String loft = scanner.nextLine();</b>
<b class="nc">&nbsp;                    hasLoft = false;</b>
<b class="nc">&nbsp;                    if (loft.equalsIgnoreCase(&quot;yes&quot;)) {</b>
<b class="nc">&nbsp;                        hasLoft = true;</b>
<b class="nc">&nbsp;                    } else if (!loft.equalsIgnoreCase(&quot;no&quot;)) {</b>
<b class="nc">&nbsp;                        System.out.println(&quot;Invalid. Please, insert &#39;yes&#39; or &#39;no&#39;.&quot;);</b>
&nbsp;                    }
&nbsp;
&nbsp;                    //sunExposure
<b class="nc">&nbsp;                    List&lt;SunExposure&gt; sunExposure1 = this.controller.getSunExposureAsList();</b>
<b class="nc">&nbsp;                    Utils.showList(sunExposure1, &quot;SunExposure&quot;);</b>
<b class="nc">&nbsp;                    Integer posSunExposure = Utils.readIntegerFromConsole(&quot;Choose the sunExposure: &quot;);</b>
<b class="nc">&nbsp;                    sunExposure = SunExposure.getSunExposureById(posSunExposure);</b>
&nbsp;
&nbsp;
<b class="nc">&nbsp;                    break;</b>
&nbsp;
&nbsp;
&nbsp;                case 2: // Apartamento
<b class="nc">&nbsp;                    doorNumber = Integer.getInteger(Utils.readLineFromConsole(&quot;Insert the door number:&quot;));</b>
&nbsp;
&nbsp;                    //bedrroms
<b class="nc">&nbsp;                    System.out.println(&quot;Number of bedrooms:&quot;);</b>
<b class="nc">&nbsp;                    bedrooms = scanner.nextInt();</b>
<b class="nc">&nbsp;                    scanner.nextLine();</b>
&nbsp;
&nbsp;                    //bathrooms
<b class="nc">&nbsp;                    System.out.println(&quot;Number of bathrooms:&quot;);</b>
<b class="nc">&nbsp;                    bathrooms = scanner.nextInt();</b>
<b class="nc">&nbsp;                    scanner.nextLine();</b>
&nbsp;
&nbsp;
&nbsp;                    //parkingSpaces
<b class="nc">&nbsp;                    System.out.println(&quot;Number of parking spaces:&quot;);</b>
<b class="nc">&nbsp;                    parkingSpaces = scanner.nextInt();</b>
<b class="nc">&nbsp;                    scanner.nextLine();</b>
&nbsp;
&nbsp;                    //availableEquipments
&nbsp;
<b class="nc">&nbsp;                    System.out.println(&quot;Insert the available equipment&quot;);</b>
<b class="nc">&nbsp;                    System.out.println(&quot;Type &#39;exit&#39; to finish&quot;);</b>
<b class="nc">&nbsp;                    equipment = &quot;&quot;;</b>
<b class="nc">&nbsp;                    while (!equipment.equalsIgnoreCase(&quot;exit&quot;)) {</b>
<b class="nc">&nbsp;                        equipment = scanner.nextLine();</b>
<b class="nc">&nbsp;                        if (!equipment.equalsIgnoreCase(&quot;exit&quot;)) {</b>
<b class="nc">&nbsp;                            availableEquipment.add(equipment);</b>
&nbsp;                        }
&nbsp;                    }
&nbsp;                    break;
&nbsp;                default:
<b class="nc">&nbsp;                    System.out.println(&quot;invalid!&quot;);</b>
&nbsp;                    break;
&nbsp;            }
<b class="nc">&nbsp;            location = new Location(doorNumber, street, existingCity, postalCode);</b>
&nbsp;
&nbsp;
<b class="nc">&nbsp;            System.out.println(&quot;\n&quot;);</b>
<b class="nc">&nbsp;            System.out.println(&quot;===== Review Ad Details =====&quot;);</b>
<b class="nc">&nbsp;            System.out.println(&quot;Type of Business: &quot; + sellOrRent);</b>
<b class="nc">&nbsp;            System.out.println(&quot;Type of property: &quot; + selectedType);</b>
<b class="nc">&nbsp;            System.out.println(&quot;Photos: &quot; + photographs);</b>
<b class="nc">&nbsp;            System.out.println(&quot;Area: &quot; + area + &quot; m2&quot;);</b>
<b class="nc">&nbsp;            System.out.println(&quot;Location: &quot; + location);</b>
<b class="nc">&nbsp;            System.out.println(&quot;Distance of Centre: &quot; + distance + &quot;km&quot;);</b>
<b class="nc">&nbsp;            System.out.println(&quot;Price: &quot; + price + &quot;$&quot;);</b>
&nbsp;
&nbsp;
<b class="nc">&nbsp;            if (posTypeOfProperty == 1 || posTypeOfProperty == 2) {</b>
&nbsp;
<b class="nc">&nbsp;                System.out.println(&quot;Number of bedrooms: &quot; + bedrooms);</b>
<b class="nc">&nbsp;                System.out.println(&quot;Number of bathrooms: &quot; + bathrooms);</b>
<b class="nc">&nbsp;                System.out.println(&quot;Number of parking spaces: &quot; + parkingSpaces);</b>
<b class="nc">&nbsp;                System.out.println(&quot;Available equipments: &quot; + availableEquipment);</b>
&nbsp;            }
&nbsp;
&nbsp;
<b class="nc">&nbsp;            if (posTypeOfProperty == 1) {</b>
<b class="nc">&nbsp;                if (hasBasement == true) {</b>
<b class="nc">&nbsp;                    System.out.println(&quot;Basement: yes&quot;);</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    System.out.println(&quot;Basement: no&quot;);</b>
&nbsp;                }
<b class="nc">&nbsp;                if (hasLoft == true) {</b>
<b class="nc">&nbsp;                    System.out.println(&quot;Loft: yes&quot;);</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    System.out.println(&quot;Loft: no&quot;);</b>
&nbsp;                }
<b class="nc">&nbsp;                System.out.println(&quot;Sun exposure: &quot; + sunExposure);</b>
&nbsp;            }
<b class="nc">&nbsp;        String agentName  = agent.getName();</b>
<b class="nc">&nbsp;            System.out.println(&quot;Agent: &quot; + agentName +&quot;\n\n&quot;);</b>
&nbsp;
&nbsp;
<b class="nc">&nbsp;            System.out.print(&quot;Do you confirm the creation (y/n)? \n&quot;);</b>
<b class="nc">&nbsp;            String confirm = scanner.next();</b>
<b class="nc">&nbsp;            if (confirm.equalsIgnoreCase(&quot;y&quot;)) {</b>
&nbsp;
<b class="nc">&nbsp;                String ownerEmail = Utils.readLineFromConsole(&quot;Enter the owner&#39;s email: &quot;);</b>
<b class="nc">&nbsp;                Client owner = controller.getClientByEmail(ownerEmail);</b>
&nbsp;
&nbsp;
&nbsp;
<b class="nc">&nbsp;                this.controller.createAnnouncement(date,sellOrRent, posTypeOfProperty, bedrooms, bathrooms, parkingSpaces, availableEquipment, hasBasement, hasLoft,</b>
&nbsp;                        sunExposure, area, location, distance, commission, price, photographs, agent, owner, rentalMonths );
<b class="nc">&nbsp;                System.out.println(&quot;Announcement created successfully!\n&quot;);</b>
<b class="nc">&nbsp;                confirmed = true;</b>
<b class="nc">&nbsp;                if (owner != null) {</b>
&nbsp;
<b class="nc">&nbsp;                    String ownerName = owner.getName();</b>
<b class="nc">&nbsp;                    long ownerPhonenumber = owner.getTelephoneNumber();</b>
&nbsp;
<b class="nc">&nbsp;                    String notificationSubject = &quot;New Announcement Published&quot;;</b>
<b class="nc">&nbsp;                    String notificationMessage = &quot;Dear &quot; + ownerName + &quot;,\n&quot;</b>
&nbsp;                            + &quot;Your property has been published with the following details:\n&quot;
<b class="nc">&nbsp;                            + &quot;Announcement ID: &quot; + location.toString() + &quot;\n&quot;</b>
<b class="nc">&nbsp;                            + &quot;Publication Date: &quot; + date.toString() + &quot;\n&quot;</b>
<b class="nc">&nbsp;                            + &quot;Responsible Agent: &quot; + agent.getName() + &quot;\n&quot;</b>
<b class="nc">&nbsp;                            + &quot;Agent Phone Number: &quot; + agent.getTelephoneNumber() + &quot;\n&quot;;</b>
&nbsp;
&nbsp;                    //
<b class="nc">&nbsp;                    NotificationService notificationService = new NotificationService();</b>
<b class="nc">&nbsp;                    notificationService.sendNotification(String.valueOf(ownerPhonenumber), notificationSubject, notificationMessage);</b>
&nbsp;
<b class="nc">&nbsp;                    System.out.println(&quot;Notification sent to owner: &quot; + ownerEmail);</b>
<b class="nc">&nbsp;                } else {</b>
<b class="nc">&nbsp;                    System.out.println(&quot;Owner not found. Please enter a valid email address.&quot;);</b>
&nbsp;                }
<b class="nc">&nbsp;            } else {</b>
<b class="nc">&nbsp;                System.out.print(&quot;Cancel (y/n)?&quot;);</b>
<b class="nc">&nbsp;                String cancel = scanner.next();</b>
<b class="nc">&nbsp;                if (cancel.equalsIgnoreCase(&quot;y&quot;)) {</b>
<b class="nc">&nbsp;                    System.out.println(&quot;Announcement creation cancelled.\n&quot;);</b>
<b class="nc">&nbsp;                    confirmed = true;</b>
&nbsp;                }
&nbsp;            }
&nbsp;
&nbsp;    }
&nbsp;    }
&nbsp;
&nbsp;
&nbsp;
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2023-06-18 23:35</div>
</div>
</body>
</html>
